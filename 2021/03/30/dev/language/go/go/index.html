<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Go语言基础 | I0gan's blog</title><script src="//unpkg.com/valine/dist/Valine.min.js"></script><script>var config = {"root":"/","path":"search.json"}</script><script src="//unpkg.com/mermaid@8.13.5/dist/mermaid.min.js"></script><script>mermaid.initialize({
 startOnLoad: true
 , theme: 'dark'
});</script><link rel="stylesheet" href="/css/arknights.css"><link rel="stylesheet" href="//unpkg.com/@highlightjs/cdn-assets@11.4.0/styles/atom-one-dark-reasonable.min.css"><style>@font-face {
 font-family: BenderLight;
 src: local('Bender'), url("/font/BenderLight.ttf");
}
@font-face {
 font-family: 'JetBrains Mono';
 src: local('JetBrains Mono'), url('/font/JetBrainsMono-Regular.woff2') format('woff2');
}</style><meta name="generator" content="Hexo 6.3.0"></head><body style="background-image:url(/img/bg.jpg);"><main><header class="closed"><nav><div class="navBtn"><i class="navBtnIcon"><span class="navBtnIconBar"></span><span class="navBtnIconBar"></span><span class="navBtnIconBar"></span></i></div><ol class="navContent"><li class="navItem" id="search-header"><span class="navItemTitle"><input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="Search" spellcheck="false" maxlength="50" type="text" id="search-input"></span></li><li class="navItem"><a class="navBlock" href="/"><span class="navItemTitle">Home</span></a></li><li class="navItem"><a class="navBlock" href="/about/"><span class="navItemTitle">About</span></a></li><li class="navItem" matchdata="categories,tags"><a class="navBlock" href="/archives/"><span class="navItemTitle">Archives</span></a></li><li class="navItem"><a class="navBlock" href="/shell/"><span class="navItemTitle">Shell</span></a></li></ol></nav><div class="search-popup"><div id="search-result"></div></div></header><article><div id="post-bg"><div id="post-title"><h1>Go语言基础</h1><div id="post-info"><span>First Post: <div class="control"><time datetime="2021-03-30T03:28:38.000Z" id="date"> 2021-03-30</time></div></span><br><span>Last Update: <div class="control"><time datetime="2022-10-24T09:48:27.309Z" id="updated"> 2022-10-24</time></div></span><br><span>Word Count: <div class="control">23.9k</div></span><br><span>Read Time: <div class="control">102 min</div></span></div></div><hr><div id="post-content"><h1 id="0x00-Golang安装"><a href="#0x00-Golang安装" class="headerlink" title="0x00 Golang安装"></a>0x00 Golang安装</h1><p> doc: <a target="_blank" rel="noopener" href="https://golang.org/doc/">https://golang.org/doc/</a></p>
<p> ctrl c  &amp;&amp; ctrl v from <a target="_blank" rel="noopener" href="https://www.runoob.com/go/go-tutorial.html">https://www.runoob.com/go/go-tutorial.html</a></p>
<h1 id="0x01-Hello-World"><a href="#0x01-Hello-World" class="headerlink" title="0x01 Hello World"></a>0x01 Hello World</h1><p>Go 是一个开源的编程语言，它能让构造简单、可靠且高效的软件变得容易。</p>
<p>Go是从2007年末由Robert Griesemer, Rob Pike, Ken Thompson主持开发，后来还加入了Ian Lance Taylor, Russ Cox等人，并最终于2009年11月开源，在2012年早些时候发布了Go 1稳定版本。现在Go的开发已经是完全开放的，并且拥有一个活跃的社区。</p>
<hr>
<h2 id="Go-语言特色"><a href="#Go-语言特色" class="headerlink" title="Go 语言特色"></a>Go 语言特色</h2><ul>
<li>简洁、快速、安全</li>
<li>并行、有趣、开源</li>
<li>内存管理、数组安全、编译迅速</li>
</ul>
<hr>
<h2 id="Go-语言用途"><a href="#Go-语言用途" class="headerlink" title="Go 语言用途"></a>Go 语言用途</h2><p>Go 语言被设计成一门应用于搭载 Web 服务器，存储集群或类似用途的巨型中央服务器的系统编程语言。</p>
<p>对于高性能分布式系统领域而言，Go 语言无疑比大多数其它语言有着更高的开发效率。它提供了海量并行的支持，这对于游戏服务端的开发而言是再好不过了。</p>
<hr>
<p>golang编译器下载: <a target="_blank" rel="noopener" href="https://golang.org/dl/">https://golang.org/dl/</a></p>
<h2 id="第一个-Go-程序"><a href="#第一个-Go-程序" class="headerlink" title="第一个 Go 程序"></a>第一个 Go 程序</h2><p>接下来我们来编写第一个 Go 程序 hello.go（Go 语言源文件的扩展是 .go），代码如下：</p>
<h2 id="hello-go-文件"><a href="#hello-go-文件" class="headerlink" title="hello.go 文件"></a>hello.go 文件</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>  fmt.Println(<span class="hljs-string">&quot;Hello, World!&quot;</span>)<br>&#125;<br></code></pre></td></tr></table></figure>

<p>Go 语言的基础组成有以下几个部分：</p>
<ul>
<li>包声明</li>
<li>引入包</li>
<li>函数</li>
<li>变量</li>
<li>语句 &amp; 表达式</li>
<li>注释</li>
</ul>
<p>接下来让我们来看下简单的代码，该代码输出了”Hello World!”:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>  <span class="hljs-comment">// 这是我的第一个简单的程序</span><br>  fmt.Println(<span class="hljs-string">&quot;Hello, World!&quot;</span>)<br>&#125;<br></code></pre></td></tr></table></figure>





<p>让我们来看下以上程序的各个部分：</p>
<ol>
<li>第一行代码 <em>package main</em> 定义了包名。你必须在源文件中非注释的第一行指明这个文件属于哪个包，如：package main。package main表示一个可独立执行的程序，每个 Go 应用程序都包含一个名为 main 的包。</li>
<li>下一行 <em>import “fmt”</em> 告诉 Go 编译器这个程序需要使用 fmt 包（的函数，或其他元素），fmt 包实现了格式化 IO（输入&#x2F;输出）的函数。</li>
<li>下一行 <em>func main()</em> 是程序开始执行的函数。main 函数是每一个可执行程序所必须包含的，一般来说都是在启动后第一个执行的函数（如果有 init() 函数则会先执行该函数）。</li>
<li>下一行 &#x2F;<em>…</em>&#x2F; 是注释，在程序执行时将被忽略。单行注释是最常见的注释形式，你可以在任何地方使用以 &#x2F;&#x2F; 开头的单行注释。多行注释也叫块注释，均已以 &#x2F;* 开头，并以 *&#x2F; 结尾，且不可以嵌套使用，多行注释一般用于包的文档描述或注释成块的代码片段。</li>
<li>下一行 <em>fmt.Println(…)</em> 可以将字符串输出到控制台，并在最后自动增加换行字符 \n。<br>使用 fmt.Print(“hello, world\n”) 可以得到相同的结果。<br>Print 和 Println 这两个函数也支持使用变量，如：fmt.Println(arr)。如果没有特别指定，它们会以默认的打印格式将变量 arr 输出到控制台。</li>
<li>当标识符（包括常量、变量、类型、函数名、结构字段等等）以一个大写字母开头，如：Group1，那么使用这种形式的标识符的对象就可以被外部包的代码所使用（客户端程序需要先导入这个包），这被称为导出（像面向对象语言中的 public）；标识符如果以小写字母开头，则对包外是不可见的，但是他们在整个包的内部是可见并且可用的（像面向对象语言中的 protected ）。</li>
</ol>
<p>要执行 Go 语言代码可以使用 <strong>go run</strong> 命令。</p>
<p>执行以上代码输出:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">$ go run hello.go <br>Hello, World!<br></code></pre></td></tr></table></figure>

<p>此外我们还可以使用 <strong>go build</strong> 命令来生成二进制文件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">$ go build hello.go <br>$ ls<br>hello    hello.go<br>$ ./hello <br>Hello, World!<br></code></pre></td></tr></table></figure>

<h2 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h2><p>需要注意的是 <strong>{</strong> 不能单独放在一行，所以以下代码在运行时会产生错误：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> <br>&#123; *<span class="hljs-comment">// 错误，&#123; 不能在单独的行上*</span><br>  fmt.Println(<span class="hljs-string">&quot;Hello, World!&quot;</span>)<br>&#125;<br></code></pre></td></tr></table></figure>




<h2 id="特性"><a href="#特性" class="headerlink" title="特性"></a>特性</h2><p>计算机软件经历了数十年的发展，形成了多种学术流派，有面向过程编程、面向对象编程、函数式编程、面向消息编程等，这些思想究竟孰优孰劣，众说纷纭。</p>
<p>除了OOP外，近年出现了一些小众的编程哲学，Go语言对这些思想亦有所吸收。例如，Go语言接受了函数式编程的一些想法，支持匿名函数与闭包。再如，Go语言接受了以Erlang语言为代表的面向消息编程思想，支持goroutine和通道，并推荐使用消息而不是共享内存来进行并发编程。总体来说，Go语言是一个非常现代化的语言，精小但非常强大。</p>
<p>Go 语言最主要的特性：</p>
<ul>
<li>自动垃圾回收</li>
<li>更丰富的内置类型</li>
<li>函数多返回值</li>
<li>错误处理</li>
<li>匿名函数和闭包</li>
<li>类型和接口</li>
<li>并发编程</li>
<li>反射</li>
<li>语言交互性</li>
</ul>
<h1 id="0x02-语法基础"><a href="#0x02-语法基础" class="headerlink" title="0x02 语法基础"></a>0x02 语法基础</h1><h2 id="Go-标记"><a href="#Go-标记" class="headerlink" title="Go 标记"></a>Go 标记</h2><p>Go 程序可以由多个标记组成，可以是关键字，标识符，常量，字符串，符号。如以下 GO 语句由 6 个标记组成：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">fmt.Println(&quot;Hello, World!&quot;)<br></code></pre></td></tr></table></figure>

<p>6 个标记是(每行一个)：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">1. fmt<br>2. .<br>3. Println<br>4. (<br>5. &quot;Hello, World!&quot;<br>6. )<br></code></pre></td></tr></table></figure>

<hr>
<h2 id="行分隔符"><a href="#行分隔符" class="headerlink" title="行分隔符"></a>行分隔符</h2><p>在 Go 程序中，一行代表一个语句结束。每个语句不需要像 C 家族中的其它语言一样以分号 ; 结尾，因为这些工作都将由 Go 编译器自动完成。</p>
<p>如果你打算将多个语句写在同一行，它们则必须使用 ; 人为区分，但在实际开发中我们并不鼓励这种做法。</p>
<p>以下为两个语句：</p>
<p>fmt.Println(“Hello, World!”)<br>fmt.Println(“菜鸟教程：runoob.com”)</p>
<hr>
<h2 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h2><p>注释不会被编译，每一个包应该有相关注释。</p>
<p>单行注释是最常见的注释形式，你可以在任何地方使用以 &#x2F;&#x2F; 开头的单行注释。多行注释也叫块注释，均已以 &#x2F;* 开头，并以 *&#x2F; 结尾。如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">// 单行注释<br>/*<br> 我是多行注释<br> */<br></code></pre></td></tr></table></figure>

<hr>
<h2 id="标识符"><a href="#标识符" class="headerlink" title="标识符"></a>标识符</h2><p>标识符用来命名变量、类型等程序实体。一个标识符实际上就是一个或是多个字母(A<del>Z和a</del>z)数字(0~9)、下划线_组成的序列，但是第一个字符必须是字母或下划线而不能是数字。</p>
<p>以下是有效的标识符：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">mahesh   kumar   abc   move_name   a_123<br>myname50   _temp   j   a23b9   retVal<br></code></pre></td></tr></table></figure>

<p>以下是无效的标识符：</p>
<ul>
<li>1ab（以数字开头）</li>
<li>case（Go 语言的关键字）</li>
<li>a+b（运算符是不允许的）</li>
</ul>
<hr>
<h2 id="字符串连接"><a href="#字符串连接" class="headerlink" title="字符串连接"></a>字符串连接</h2><p>Go 语言的字符串可以通过 <strong>+</strong> 实现：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>  fmt.Println(<span class="hljs-string">&quot;Google&quot;</span> + <span class="hljs-string">&quot;Runoob&quot;</span>)<br>&#125;<br></code></pre></td></tr></table></figure>



<h2 id="关键字"><a href="#关键字" class="headerlink" title="关键字"></a>关键字</h2><p>下面列举了 Go 代码中会使用到的 25 个关键字或保留字：</p>
<table>
<thead>
<tr>
<th>break</th>
<th>default</th>
<th>func</th>
<th>interface</th>
<th>select</th>
</tr>
</thead>
<tbody><tr>
<td>case</td>
<td>defer</td>
<td>go</td>
<td>map</td>
<td>struct</td>
</tr>
<tr>
<td>chan</td>
<td>else</td>
<td>goto</td>
<td>package</td>
<td>switch</td>
</tr>
<tr>
<td>const</td>
<td>fallthrough</td>
<td>if</td>
<td>range</td>
<td>type</td>
</tr>
<tr>
<td>continue</td>
<td>for</td>
<td>import</td>
<td>return</td>
<td>var</td>
</tr>
</tbody></table>
<p>除了以上介绍的这些关键字，Go 语言还有 36 个预定义标识符：</p>
<table>
<thead>
<tr>
<th>append</th>
<th>bool</th>
<th>byte</th>
<th>cap</th>
<th>close</th>
<th>complex</th>
<th>complex64</th>
<th>complex128</th>
<th>uint16</th>
</tr>
</thead>
<tbody><tr>
<td>copy</td>
<td>false</td>
<td>float32</td>
<td>float64</td>
<td>imag</td>
<td>int</td>
<td>int8</td>
<td>int16</td>
<td>uint32</td>
</tr>
<tr>
<td>int32</td>
<td>int64</td>
<td>iota</td>
<td>len</td>
<td>make</td>
<td>new</td>
<td>nil</td>
<td>panic</td>
<td>uint64</td>
</tr>
<tr>
<td>print</td>
<td>println</td>
<td>real</td>
<td>recover</td>
<td>string</td>
<td>true</td>
<td>uint</td>
<td>uint8</td>
<td>uintptr</td>
</tr>
</tbody></table>
<p>程序一般由关键字、常量、变量、运算符、类型和函数组成。</p>
<p>程序中可能会使用到这些分隔符：括号 ()，中括号 [] 和大括号 {}。</p>
<p>程序中可能会使用到这些标点符号：.、,、;、: 和 …。</p>
<hr>
<h2 id="Go-语言的空格"><a href="#Go-语言的空格" class="headerlink" title="Go 语言的空格"></a>Go 语言的空格</h2><p>Go 语言中变量的声明必须使用空格隔开，如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">var age int;<br></code></pre></td></tr></table></figure>

<p>语句中适当使用空格能让程序更易阅读。</p>
<p>无空格：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">fruit=apples+oranges;<br></code></pre></td></tr></table></figure>

<p>在变量与运算符间加入空格，程序看起来更加美观，如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">fruit = apples + oranges; <br></code></pre></td></tr></table></figure>

<hr>
<h2 id="格式化字符串"><a href="#格式化字符串" class="headerlink" title="格式化字符串"></a>格式化字符串</h2><p>Go 语言中使用 <strong>fmt.Sprintf</strong> 格式化字符串并赋值给新串：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><span class="hljs-keyword">import</span> (<br>  <span class="hljs-string">&quot;fmt&quot;</span><br>)<br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>  <span class="hljs-comment">// %d 表示整型数字，%s 表示字符串*</span><br>  <span class="hljs-keyword">var</span> stockcode=<span class="hljs-number">123</span><br>  <span class="hljs-keyword">var</span> enddate=<span class="hljs-string">&quot;2020-12-31&quot;</span><br>  <span class="hljs-keyword">var</span> url=<span class="hljs-string">&quot;Code=%d&amp;endDate=%s&quot;</span><br>  <span class="hljs-keyword">var</span> target_url=fmt.Sprintf(url,stockcode,enddate)<br>  fmt.Println(target_url)<br>&#125;<br><br></code></pre></td></tr></table></figure>



<p>输出结果为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">Code=123&amp;endDate=2020-12-31<br></code></pre></td></tr></table></figure>





<h1 id="0x03-Go-语言数据类型"><a href="#0x03-Go-语言数据类型" class="headerlink" title="0x03 Go 语言数据类型"></a>0x03 Go 语言数据类型</h1><p>在 Go 编程语言中，数据类型用于声明函数和变量。</p>
<p>数据类型的出现是为了把数据分成所需内存大小不同的数据，编程的时候需要用大数据的时候才需要申请大内存，就可以充分利用内存。</p>
<p>Go 语言按类别有以下几种数据类型：</p>
<table>
<thead>
<tr>
<th align="left">序号</th>
<th align="left">类型和描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">1</td>
<td align="left"><strong>布尔型</strong> 布尔型的值只可以是常量 true 或者 false。一个简单的例子：var b bool &#x3D; true。</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left"><strong>数字类型</strong> 整型 int 和浮点型 float32、float64，Go 语言支持整型和浮点型数字，并且支持复数，其中位的运算采用补码。</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left"><strong>字符串类型:</strong> 字符串就是一串固定长度的字符连接起来的字符序列。Go 的字符串是由单个字节连接起来的。Go 语言的字符串的字节使用 UTF-8 编码标识 Unicode 文本。</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left"><strong>派生类型:</strong> 包括：(a) 指针类型（Pointer）(b) 数组类型(c) 结构化类型(struct)(d) Channel 类型(e) 函数类型(f) 切片类型(g) 接口类型（interface）(h) Map 类型</td>
</tr>
</tbody></table>
<hr>
<h2 id="数字类型"><a href="#数字类型" class="headerlink" title="数字类型"></a>数字类型</h2><p>Go 也有基于架构的类型，例如：int、uint 和 uintptr。</p>
<table>
<thead>
<tr>
<th align="left">序号</th>
<th align="left">类型和描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">1</td>
<td align="left"><strong>uint8</strong> 无符号 8 位整型 (0 到 255)</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left"><strong>uint16</strong> 无符号 16 位整型 (0 到 65535)</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left"><strong>uint32</strong> 无符号 32 位整型 (0 到 4294967295)</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left"><strong>uint64</strong> 无符号 64 位整型 (0 到 18446744073709551615)</td>
</tr>
<tr>
<td align="left">5</td>
<td align="left"><strong>int8</strong> 有符号 8 位整型 (-128 到 127)</td>
</tr>
<tr>
<td align="left">6</td>
<td align="left"><strong>int16</strong> 有符号 16 位整型 (-32768 到 32767)</td>
</tr>
<tr>
<td align="left">7</td>
<td align="left"><strong>int32</strong> 有符号 32 位整型 (-2147483648 到 2147483647)</td>
</tr>
<tr>
<td align="left">8</td>
<td align="left"><strong>int64</strong> 有符号 64 位整型 (-9223372036854775808 到 9223372036854775807)</td>
</tr>
</tbody></table>
<h3 id="浮点型"><a href="#浮点型" class="headerlink" title="浮点型"></a>浮点型</h3><table>
<thead>
<tr>
<th align="left">序号</th>
<th align="left">类型和描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">1</td>
<td align="left"><strong>float32</strong> IEEE-754 32位浮点型数</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left"><strong>float64</strong> IEEE-754 64位浮点型数</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left"><strong>complex64</strong> 32 位实数和虚数</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left"><strong>complex128</strong> 64 位实数和虚数</td>
</tr>
</tbody></table>
<hr>
<h3 id="其他数字类型"><a href="#其他数字类型" class="headerlink" title="其他数字类型"></a>其他数字类型</h3><p>以下列出了其他更多的数字类型：</p>
<table>
<thead>
<tr>
<th align="left">序号</th>
<th align="left">类型和描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">1</td>
<td align="left"><strong>byte</strong> 类似 uint8</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left"><strong>rune</strong> 类似 int32</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left"><strong>uint</strong> 32 或 64 位</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left"><strong>int</strong> 与 uint 一样大小</td>
</tr>
<tr>
<td align="left">5</td>
<td align="left"><strong>uintptr</strong> 无符号整型，用于存放一个指针</td>
</tr>
</tbody></table>
<h1 id="0x04-Go-语言变量"><a href="#0x04-Go-语言变量" class="headerlink" title="0x04 Go 语言变量"></a>0x04 Go 语言变量</h1><p>变量来源于数学，是计算机语言中能储存计算结果或能表示值抽象概念。</p>
<p>变量可以通过变量名访问。</p>
<p>Go 语言变量名由字母、数字、下划线组成，其中首个字符不能为数字。</p>
<p>声明变量的一般形式是使用 var 关键字：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">var identifier type<br></code></pre></td></tr></table></figure>

<p>可以一次声明多个变量：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">var identifier1, identifier2 type<br></code></pre></td></tr></table></figure>

<p>实例</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>  <span class="hljs-keyword">var</span> a <span class="hljs-type">string</span> = <span class="hljs-string">&quot;Runoob&quot;</span><br>  fmt.Println(a)<br><br>  <span class="hljs-keyword">var</span> b, c <span class="hljs-type">int</span> = <span class="hljs-number">1</span>, <span class="hljs-number">2</span><br>  fmt.Println(b, c)<br>&#125;<br></code></pre></td></tr></table></figure>

<p>以上实例输出结果为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">Runoob<br>1 2<br></code></pre></td></tr></table></figure>

<h2 id="变量声明"><a href="#变量声明" class="headerlink" title="变量声明"></a>变量声明</h2><p><strong>第一种，指定变量类型，如果没有初始化，则变量默认为零值</strong>。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">var v_name v_type<br>v_name = value<br></code></pre></td></tr></table></figure>

<p>零值就是变量没有做初始化时系统默认设置的值。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs go"><br><span class="hljs-keyword">package</span> main<br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br><br>  <span class="hljs-comment">// 声明一个变量并初始化*</span><br>  <span class="hljs-keyword">var</span> a = <span class="hljs-string">&quot;RUNOOB&quot;</span><br>  fmt.Println(a)<br><br>  <span class="hljs-comment">// 没有初始化就为零值*</span><br>  <span class="hljs-keyword">var</span> b <span class="hljs-type">int</span><br>  fmt.Println(b)<br><br>  <span class="hljs-comment">// bool 零值为 false*</span><br>  <span class="hljs-keyword">var</span> c <span class="hljs-type">bool</span><br>  fmt.Println(c)<br>&#125;<br></code></pre></td></tr></table></figure>

<p>以上实例执行结果为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">RUNOOB<br>0<br>false<br></code></pre></td></tr></table></figure>

<ul>
<li><p>数值类型（包括complex64&#x2F;128）为 0</p>
</li>
<li><p>布尔类型为 false</p>
</li>
<li><p>字符串为 **””**（空字符串）</p>
</li>
<li><p>以下几种类型为 <strong>nil</strong>：</p>
</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">var</span> a *<span class="hljs-type">int</span><br><span class="hljs-keyword">var</span> a []<span class="hljs-type">int</span><br><span class="hljs-keyword">var</span> a <span class="hljs-keyword">map</span>[<span class="hljs-type">string</span>] <span class="hljs-type">int</span><br><span class="hljs-keyword">var</span> a <span class="hljs-keyword">chan</span> <span class="hljs-type">int</span><br><span class="hljs-keyword">var</span> a <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(<span class="hljs-type">string</span>)</span></span> <span class="hljs-type">int</span><br><span class="hljs-keyword">var</span> a <span class="hljs-type">error</span> <span class="hljs-comment">// error 是接口</span><br></code></pre></td></tr></table></figure>



<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>  <span class="hljs-keyword">var</span> i <span class="hljs-type">int</span><br>  <span class="hljs-keyword">var</span> f <span class="hljs-type">float64</span><br>  <span class="hljs-keyword">var</span> b <span class="hljs-type">bool</span><br>  <span class="hljs-keyword">var</span> s <span class="hljs-type">string</span><br>  fmt.Printf(<span class="hljs-string">&quot;%v %v %v %q**\n**&quot;</span>, i, f, b, s)<br>&#125;<br></code></pre></td></tr></table></figure>

<p>输出结果是：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">0 0 false &quot;&quot;<br></code></pre></td></tr></table></figure>

<p><strong>第二种，根据值自行判定变量类型。</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">var v_name = value<br></code></pre></td></tr></table></figure>



<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>  <span class="hljs-keyword">var</span> d = <span class="hljs-literal">true</span><br>  fmt.Println(d)<br>&#125;<br></code></pre></td></tr></table></figure>

<p>输出结果是：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">true<br></code></pre></td></tr></table></figure>

<p><strong>第三种，省略 var, 注意 *<em>:&#x3D;*</em> 左侧如果没有声明新的变量，就产生编译错误，格式：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">v_name := value<br></code></pre></td></tr></table></figure>

<p>例如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">var intVal int <br>intVal :=1 // 这时候会产生编译错误<br>intVal,intVal1 := 1,2 // 此时不会产生编译错误，因为有声明新的变量，因为 := 是一个声明语句<br></code></pre></td></tr></table></figure>

<p>可以将 var f string &#x3D; “Runoob” 简写为 f :&#x3D; “Runoob”：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>  f := <span class="hljs-string">&quot;Runoob&quot;</span> *<span class="hljs-comment">// var f string = &quot;Runoob&quot;*</span><br>  fmt.Println(f)<br>&#125;<br></code></pre></td></tr></table></figure>

<p>输出结果是：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">Runoob<br></code></pre></td></tr></table></figure>

<h2 id="多变量声明"><a href="#多变量声明" class="headerlink" title="多变量声明"></a>多变量声明</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-comment">//类型相同多个变量, 非全局变量</span><br><span class="hljs-keyword">var</span> vname1, vname2, vname3 <span class="hljs-keyword">type</span><br>vname1, vname2, vname3 = v1, v2, v3<br><span class="hljs-keyword">var</span> vname1, vname2, vname3 = v1, v2, v3 <span class="hljs-comment">// 和 python 很像,不需要显示声明类型，自动推断</span><br>vname1, vname2, vname3 := v1, v2, v3 <span class="hljs-comment">// 出现在 := 左侧的变量不应该是已经被声明过的，否则会导致编译错误</span><br><br><span class="hljs-comment">// 这种因式分解关键字的写法一般用于声明全局变量</span><br><span class="hljs-keyword">var</span> (<br>    vname1 v_type1<br>    vname2 v_type2<br>)<br></code></pre></td></tr></table></figure>


<p>实例</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><span class="hljs-keyword">var</span> x, y <span class="hljs-type">int</span><br><span class="hljs-keyword">var</span> ( <span class="hljs-comment">// 这种因式分解关键字的写法一般用于声明全局变量*</span><br>  a <span class="hljs-type">int</span><br>  b <span class="hljs-type">bool</span><br>)<br><br><span class="hljs-keyword">var</span> c, d <span class="hljs-type">int</span> = <span class="hljs-number">1</span>, <span class="hljs-number">2</span><br><span class="hljs-keyword">var</span> e, f = <span class="hljs-number">123</span>, <span class="hljs-string">&quot;hello&quot;</span><br><br><span class="hljs-comment">//这种不带声明格式的只能在函数体中出现*</span><br><span class="hljs-comment">//g, h := 123, &quot;hello&quot;*</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>  g, h := <span class="hljs-number">123</span>, <span class="hljs-string">&quot;hello&quot;</span><br>  <span class="hljs-built_in">println</span>(x, y, a, b, c, d, e, f, g, h)<br>&#125;<br></code></pre></td></tr></table></figure>

<p>以上实例执行结果为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">0 0 0 false 1 2 123 hello 123 hello<br></code></pre></td></tr></table></figure>

<hr>
<h2 id="值类型和引用类型"><a href="#值类型和引用类型" class="headerlink" title="值类型和引用类型"></a>值类型和引用类型</h2><p>所有像 int、float、bool 和 string 这些基本类型都属于值类型，使用这些类型的变量直接指向存在内存中的值：</p>
<p><img src="https://www.runoob.com/wp-content/uploads/2015/06/4.4.2_fig4.1.jpgrawtrue" alt="4.4.2_fig4.1"></p>
<p>当使用等号 <code>=</code> 将一个变量的值赋值给另一个变量时，如：<code>j = i</code>，实际上是在内存中将 i 的值进行了拷贝：</p>
<p><img src="https://www.runoob.com/wp-content/uploads/2015/06/4.4.2_fig4.2.jpgrawtrue" alt="4.4.2_fig4.2"></p>
<p>你可以通过 &amp;i 来获取变量 i 的内存地址，例如：0xf840000040（每次的地址都可能不一样）。值类型的变量的值存储在栈中。</p>
<p>内存地址会根据机器的不同而有所不同，甚至相同的程序在不同的机器上执行后也会有不同的内存地址。因为每台机器可能有不同的存储器布局，并且位置分配也可能不同。</p>
<p>更复杂的数据通常会需要使用多个字，这些数据一般使用引用类型保存。</p>
<p>一个引用类型的变量 r1 存储的是 r1 的值所在的内存地址（数字），或内存地址中第一个字所在的位置。</p>
<p><img src="https://www.runoob.com/wp-content/uploads/2015/06/4.4.2_fig4.3.jpgrawtrue" alt="4.4.2_fig4.3"></p>
<p>这个内存地址称之为指针，这个指针实际上也被存在另外的某一个值中。</p>
<p>同一个引用类型的指针指向的多个字可以是在连续的内存地址中（内存布局是连续的），这也是计算效率最高的一种存储形式；也可以将这些字分散存放在内存中，每个字都指示了下一个字所在的内存地址。</p>
<p>当使用赋值语句 r2 &#x3D; r1 时，只有引用（地址）被复制。</p>
<p>如果 r1 的值被改变了，那么这个值的所有引用都会指向被修改后的内容，在这个例子中，r2 也会受到影响。</p>
<hr>
<h2 id="简短形式，使用-x3D-赋值操作符"><a href="#简短形式，使用-x3D-赋值操作符" class="headerlink" title="简短形式，使用 :&#x3D; 赋值操作符"></a>简短形式，使用 :&#x3D; 赋值操作符</h2><p>我们知道可以在变量的初始化时省略变量的类型而由系统自动推断，声明语句写上 var 关键字其实是显得有些多余了，因此我们可以将它们简写为 a :&#x3D; 50 或 b :&#x3D; false。</p>
<p>a 和 b 的类型（int 和 bool）将由编译器自动推断。</p>
<p>这是使用变量的首选形式，但是它只能被用在函数体内，而不可以用于全局变量的声明与赋值。使用操作符 :&#x3D; 可以高效地创建一个新的变量，称之为初始化声明。</p>
<h3 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h3><p>如果在相同的代码块中，我们不可以再次对于相同名称的变量使用初始化声明，例如：a :&#x3D; 20 就是不被允许的，编译器会提示错误 no new variables on left side of :&#x3D;，但是 a &#x3D; 20 是可以的，因为这是给相同的变量赋予一个新的值。</p>
<p>如果你在定义变量 a 之前使用它，则会得到编译错误 undefined: a。</p>
<p>如果你声明了一个局部变量却没有在相同的代码块中使用它，同样会得到编译错误，例如下面这个例子当中的变量 a：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>  <span class="hljs-keyword">var</span> a <span class="hljs-type">string</span> = <span class="hljs-string">&quot;abc&quot;</span><br>  fmt.Println(<span class="hljs-string">&quot;hello, world&quot;</span>)<br>&#125;<br></code></pre></td></tr></table></figure>

<p>尝试编译这段代码将得到错误 <strong>a declared and not used</strong>。</p>
<p>此外，单纯地给 a 赋值也是不够的，这个值必须被使用，所以使用</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">fmt.Println(&quot;hello, world&quot;, a)<br></code></pre></td></tr></table></figure>

<p>会移除错误。</p>
<p>但是全局变量是允许声明但不使用的。 同一类型的多个变量可以声明在同一行，如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">var a, b, c int<br></code></pre></td></tr></table></figure>

<p>多变量可以在同一行进行赋值，如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">var a, b int<br>var c string<br>a, b, c = 5, 7, &quot;abc&quot;<br></code></pre></td></tr></table></figure>

<p>上面这行假设了变量 a，b 和 c 都已经被声明，否则的话应该这样使用：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">a, b, c := 5, 7, &quot;abc&quot;<br></code></pre></td></tr></table></figure>

<p>右边的这些值以相同的顺序赋值给左边的变量，所以 a 的值是 5， b 的值是 7，c 的值是 “abc”。</p>
<p>这被称为 并行 或 同时 赋值。</p>
<p>如果你想要交换两个变量的值，则可以简单地使用 <strong>a, b &#x3D; b, a</strong>，两个变量的类型必须是相同。</p>
<p>空白标识符 _ 也被用于抛弃值，如值 5 在：_, b &#x3D; 5, 7 中被抛弃。</p>
<p>_ 实际上是一个只写变量，你不能得到它的值。这样做是因为 Go 语言中你必须使用所有被声明的变量，但有时你并不需要使用从一个函数得到的所有返回值。</p>
<p>并行赋值也被用于当一个函数返回多个返回值时，比如这里的 val 和错误 err 是通过调用 Func1 函数同时得到：val, err &#x3D; Func1(var1)。</p>
<h1 id="0x05-Go-语言常量"><a href="#0x05-Go-语言常量" class="headerlink" title="0x05 Go 语言常量"></a>0x05 Go 语言常量</h1><p>常量是一个简单值的标识符，在程序运行时，不会被修改的量。</p>
<p>常量中的数据类型只可以是布尔型、数字型（整数型、浮点型和复数）和字符串型。</p>
<p>常量的定义格式：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">const identifier [type] = value<br></code></pre></td></tr></table></figure>

<p>你可以省略类型说明符 [type]，因为编译器可以根据变量的值来推断其类型。</p>
<ul>
<li>显式类型定义： <code>const b string = &quot;abc&quot;</code></li>
<li>隐式类型定义： <code>const b = &quot;abc&quot;</code></li>
</ul>
<p>多个相同类型的声明可以简写为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">const c_name1, c_name2 = value1, value2<br></code></pre></td></tr></table></figure>

<p>以下实例演示了常量的应用：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>  <span class="hljs-keyword">const</span> LENGTH <span class="hljs-type">int</span> = <span class="hljs-number">10</span><br>  <span class="hljs-keyword">const</span> WIDTH <span class="hljs-type">int</span> = <span class="hljs-number">5</span> <br>  <span class="hljs-keyword">var</span> area <span class="hljs-type">int</span><br>  <span class="hljs-keyword">const</span> a, b, c = <span class="hljs-number">1</span>, <span class="hljs-literal">false</span>, <span class="hljs-string">&quot;str&quot;</span> *<span class="hljs-comment">//多重赋值*</span><br><br>  area = LENGTH * WIDTH<br>  fmt.Printf(<span class="hljs-string">&quot;面积为 : %d&quot;</span>, area)<br>  <span class="hljs-built_in">println</span>()<br>  <span class="hljs-built_in">println</span>(a, b, c) <br>&#125;<br></code></pre></td></tr></table></figure>




<p>以上实例运行结果为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">面积为 : 50<br>1 false str<br></code></pre></td></tr></table></figure>

<p>常量还可以用作枚举：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">const (<br>    Unknown = 0<br>    Female = 1<br>    Male = 2<br>)<br></code></pre></td></tr></table></figure>

<p>数字 0、1 和 2 分别代表未知性别、女性和男性。</p>
<p>常量可以用len(), cap(), unsafe.Sizeof()函数计算表达式的值。常量表达式中，函数必须是内置函数，否则编译不过：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;unsafe&quot;</span><br><span class="hljs-keyword">const</span> (<br>  a = <span class="hljs-string">&quot;abc&quot;</span><br>  b = <span class="hljs-built_in">len</span>(a)<br>  c = unsafe.Sizeof(a)<br>)<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>  <span class="hljs-built_in">println</span>(a, b, c)<br>&#125;<br><br></code></pre></td></tr></table></figure>



<p>以上实例运行结果为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">abc 3 16<br></code></pre></td></tr></table></figure>

<hr>
<h2 id="iota"><a href="#iota" class="headerlink" title="iota"></a>iota</h2><p>iota，特殊常量，可以认为是一个可以被编译器修改的常量。</p>
<p>iota 在 const关键字出现时将被重置为 0(const 内部的第一行之前)，const 中每新增一行常量声明将使 iota 计数一次(iota 可理解为 const 语句块中的行索引)。</p>
<p>iota 可以被用作枚举值：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">const (<br>    a = iota<br>    b = iota<br>    c = iota<br>)<br></code></pre></td></tr></table></figure>

<p>第一个 iota 等于 0，每当 iota 在新的一行被使用时，它的值都会自动加 1；所以 a&#x3D;0, b&#x3D;1, c&#x3D;2 可以简写为如下形式：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">const (<br>    a = iota<br>    b<br>    c<br>)<br></code></pre></td></tr></table></figure>

<h2 id="iota-用法"><a href="#iota-用法" class="headerlink" title="iota 用法"></a>iota 用法</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>  <span class="hljs-keyword">const</span> (<br>      a = <span class="hljs-literal">iota</span>  <span class="hljs-comment">//0</span><br>      b      <span class="hljs-comment">//1</span><br>      c      <span class="hljs-comment">//2</span><br>      d = <span class="hljs-string">&quot;ha&quot;</span>  <span class="hljs-comment">//独立值，iota += 1</span><br>      e      <span class="hljs-comment">//&quot;ha&quot;  iota += 1</span><br>      f = <span class="hljs-number">100</span>   <span class="hljs-comment">//iota +=1</span><br>      g      <span class="hljs-comment">//100  iota +=1</span><br>      h = <span class="hljs-literal">iota</span>  <span class="hljs-comment">//7,恢复计数</span><br>      i      <span class="hljs-comment">//8</span><br>  )<br>  fmt.Println(a,b,c,d,e,f,g,h,i)<br>&#125;<br><br><br></code></pre></td></tr></table></figure>

<p>以上实例运行结果为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">0 1 2 ha ha 100 100 7 8<br></code></pre></td></tr></table></figure>

<p>再看个有趣的的 iota 实例：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><span class="hljs-keyword">const</span> (<br>  i=<span class="hljs-number">1</span>&lt;&lt;<span class="hljs-literal">iota</span><br>  j=<span class="hljs-number">3</span>&lt;&lt;<span class="hljs-literal">iota</span><br>  k<br>  l<br>)<br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>  fmt.Println(<span class="hljs-string">&quot;i=&quot;</span>,i)<br>  fmt.Println(<span class="hljs-string">&quot;j=&quot;</span>,j)<br>  fmt.Println(<span class="hljs-string">&quot;k=&quot;</span>,k)<br>  fmt.Println(<span class="hljs-string">&quot;l=&quot;</span>,l)<br>&#125;<br></code></pre></td></tr></table></figure>



<p>以上实例运行结果为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">i= 1<br>j= 6<br>k= 12<br>l= 24<br></code></pre></td></tr></table></figure>

<p>iota 表示从 0 开始自动加 1，所以 <strong>i&#x3D;1&lt;&lt;0</strong>, <strong>j&#x3D;3&lt;&lt;1</strong>（**&lt;&lt;** 表示左移的意思），即：i&#x3D;1, j&#x3D;6，这没问题，关键在 k 和 l，从输出结果看 <strong>k&#x3D;3&lt;&lt;2</strong>，<strong>l&#x3D;3&lt;&lt;3</strong>。</p>
<p>简单表述:</p>
<ul>
<li><p>i&#x3D;1</p>
</li>
<li><p>：左移 0 位,不变仍为 1;</p>
</li>
<li><p><strong>j&#x3D;3</strong>：左移 1 位,变为二进制 110, 即 6;</p>
</li>
<li><p><strong>k&#x3D;3</strong>：左移 2 位,变为二进制 1100, 即 12;</p>
</li>
<li><p><strong>l&#x3D;3</strong>：左移 3 位,变为二进制 11000,即 24。</p>
</li>
</ul>
<p>注：**&lt;&lt;n&#x3D;&#x3D;*(2^n)**。</p>
<h1 id="0x06-Go-语言运算符"><a href="#0x06-Go-语言运算符" class="headerlink" title="0x06 Go 语言运算符"></a>0x06 Go 语言运算符</h1><p>运算符用于在程序运行时执行数学或逻辑运算。</p>
<p>Go 语言内置的运算符有：</p>
<ul>
<li>算术运算符</li>
<li>关系运算符</li>
<li>逻辑运算符</li>
<li>位运算符</li>
<li>赋值运算符</li>
<li>其他运算符</li>
</ul>
<p>接下来让我们来详细看看各个运算符的介绍。</p>
<hr>
<h2 id="算术运算符"><a href="#算术运算符" class="headerlink" title="算术运算符"></a>算术运算符</h2><p>下表列出了所有Go语言的算术运算符。假定 A 值为 10，B 值为 20。</p>
<table>
<thead>
<tr>
<th align="left">运算符</th>
<th align="left">描述</th>
<th align="left">实例</th>
</tr>
</thead>
<tbody><tr>
<td align="left">+</td>
<td align="left">相加</td>
<td align="left">A + B 输出结果 30</td>
</tr>
<tr>
<td align="left">-</td>
<td align="left">相减</td>
<td align="left">A - B 输出结果 -10</td>
</tr>
<tr>
<td align="left">*</td>
<td align="left">相乘</td>
<td align="left">A * B 输出结果 200</td>
</tr>
<tr>
<td align="left">&#x2F;</td>
<td align="left">相除</td>
<td align="left">B &#x2F; A 输出结果 2</td>
</tr>
<tr>
<td align="left">%</td>
<td align="left">求余</td>
<td align="left">B % A 输出结果 0</td>
</tr>
<tr>
<td align="left">++</td>
<td align="left">自增</td>
<td align="left">A++ 输出结果 11</td>
</tr>
<tr>
<td align="left">–</td>
<td align="left">自减</td>
<td align="left">A– 输出结果 9</td>
</tr>
</tbody></table>
<p>以下实例演示了各个算术运算符的用法：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br><br>   <span class="hljs-keyword">var</span> a <span class="hljs-type">int</span> = <span class="hljs-number">21</span><br>   <span class="hljs-keyword">var</span> b <span class="hljs-type">int</span> = <span class="hljs-number">10</span><br>   <span class="hljs-keyword">var</span> c <span class="hljs-type">int</span><br><br>   c = a + b<br>   fmt.Printf(<span class="hljs-string">&quot;第一行 - c 的值为 %d\n&quot;</span>, c )<br>   c = a - b<br>   fmt.Printf(<span class="hljs-string">&quot;第二行 - c 的值为 %d\n&quot;</span>, c )<br>   c = a * b<br>   fmt.Printf(<span class="hljs-string">&quot;第三行 - c 的值为 %d\n&quot;</span>, c )<br>   c = a / b<br>   fmt.Printf(<span class="hljs-string">&quot;第四行 - c 的值为 %d\n&quot;</span>, c )<br>   c = a % b<br>   fmt.Printf(<span class="hljs-string">&quot;第五行 - c 的值为 %d\n&quot;</span>, c )<br>   a++<br>   fmt.Printf(<span class="hljs-string">&quot;第六行 - a 的值为 %d\n&quot;</span>, a )<br>   a=<span class="hljs-number">21</span>   <span class="hljs-comment">// 为了方便测试，a 这里重新赋值为 21</span><br>   a--<br>   fmt.Printf(<span class="hljs-string">&quot;第七行 - a 的值为 %d\n&quot;</span>, a )<br>&#125;<br></code></pre></td></tr></table></figure>

<p>以上实例运行结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">第一行 - c 的值为 31<br>第二行 - c 的值为 11<br>第三行 - c 的值为 210<br>第四行 - c 的值为 2<br>第五行 - c 的值为 1<br>第六行 - a 的值为 22<br>第七行 - a 的值为 20<br></code></pre></td></tr></table></figure>



<h2 id="关系运算符"><a href="#关系运算符" class="headerlink" title="关系运算符"></a>关系运算符</h2><p>下表列出了所有Go语言的关系运算符。假定 A 值为 10，B 值为 20。</p>
<table>
<thead>
<tr>
<th align="left">运算符</th>
<th align="left">描述</th>
<th align="left">实例</th>
</tr>
</thead>
<tbody><tr>
<td align="left">&#x3D;&#x3D;</td>
<td align="left">检查两个值是否相等，如果相等返回 True 否则返回 False。</td>
<td align="left">(A &#x3D;&#x3D; B) 为 False</td>
</tr>
<tr>
<td align="left">!&#x3D;</td>
<td align="left">检查两个值是否不相等，如果不相等返回 True 否则返回 False。</td>
<td align="left">(A !&#x3D; B) 为 True</td>
</tr>
<tr>
<td align="left">&gt;</td>
<td align="left">检查左边值是否大于右边值，如果是返回 True 否则返回 False。</td>
<td align="left">(A &gt; B) 为 False</td>
</tr>
<tr>
<td align="left">&lt;</td>
<td align="left">检查左边值是否小于右边值，如果是返回 True 否则返回 False。</td>
<td align="left">(A &lt; B) 为 True</td>
</tr>
<tr>
<td align="left">&gt;&#x3D;</td>
<td align="left">检查左边值是否大于等于右边值，如果是返回 True 否则返回 False。</td>
<td align="left">(A &gt;&#x3D; B) 为 False</td>
</tr>
<tr>
<td align="left">&lt;&#x3D;</td>
<td align="left">检查左边值是否小于等于右边值，如果是返回 True 否则返回 False。</td>
<td align="left">(A &lt;&#x3D; B) 为 True</td>
</tr>
</tbody></table>
<p>以下实例演示了关系运算符的用法：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>   <span class="hljs-keyword">var</span> a <span class="hljs-type">int</span> = <span class="hljs-number">21</span><br>   <span class="hljs-keyword">var</span> b <span class="hljs-type">int</span> = <span class="hljs-number">10</span><br><br>   <span class="hljs-keyword">if</span>( a == b ) &#123;<br>      fmt.Printf(<span class="hljs-string">&quot;第一行 - a 等于 b\n&quot;</span> )<br>   &#125; <span class="hljs-keyword">else</span> &#123;<br>      fmt.Printf(<span class="hljs-string">&quot;第一行 - a 不等于 b\n&quot;</span> )<br>   &#125;<br>   <span class="hljs-keyword">if</span> ( a &lt; b ) &#123;<br>      fmt.Printf(<span class="hljs-string">&quot;第二行 - a 小于 b\n&quot;</span> )<br>   &#125; <span class="hljs-keyword">else</span> &#123;<br>      fmt.Printf(<span class="hljs-string">&quot;第二行 - a 不小于 b\n&quot;</span> )<br>   &#125;<br>   <br>   <span class="hljs-keyword">if</span> ( a &gt; b ) &#123;<br>      fmt.Printf(<span class="hljs-string">&quot;第三行 - a 大于 b\n&quot;</span> )<br>   &#125; <span class="hljs-keyword">else</span> &#123;<br>      fmt.Printf(<span class="hljs-string">&quot;第三行 - a 不大于 b\n&quot;</span> )<br>   &#125;<br>   <span class="hljs-comment">/* Lets change value of a and b */</span><br>   a = <span class="hljs-number">5</span><br>   b = <span class="hljs-number">20</span><br>   <span class="hljs-keyword">if</span> ( a &lt;= b ) &#123;<br>      fmt.Printf(<span class="hljs-string">&quot;第四行 - a 小于等于 b\n&quot;</span> )<br>   &#125;<br>   <span class="hljs-keyword">if</span> ( b &gt;= a ) &#123;<br>      fmt.Printf(<span class="hljs-string">&quot;第五行 - b 大于等于 a\n&quot;</span> )<br>   &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>以上实例运行结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">第一行 - a 不等于 b<br>第二行 - a 不小于 b<br>第三行 - a 大于 b<br>第四行 - a 小于等于 b<br>第五行 - b 大于等于 a<br></code></pre></td></tr></table></figure>

<h2 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h2><p>下表列出了所有Go语言的逻辑运算符。假定 A 值为 True，B 值为 False。</p>
<table>
<thead>
<tr>
<th align="left">运算符</th>
<th align="left">描述</th>
<th align="left">实例</th>
</tr>
</thead>
<tbody><tr>
<td align="left">&amp;&amp;</td>
<td align="left">逻辑 AND 运算符。 如果两边的操作数都是 True，则条件 True，否则为 False。</td>
<td align="left">(A &amp;&amp; B) 为 False</td>
</tr>
<tr>
<td align="left">||</td>
<td align="left">逻辑 OR 运算符。 如果两边的操作数有一个 True，则条件 True，否则为 False。</td>
<td align="left">(A || B) 为 True</td>
</tr>
<tr>
<td align="left">!</td>
<td align="left">逻辑 NOT 运算符。 如果条件为 True，则逻辑 NOT 条件 False，否则为 True。</td>
<td align="left">!(A &amp;&amp; B) 为 True</td>
</tr>
</tbody></table>
<p>以下实例演示了逻辑运算符的用法：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>   <span class="hljs-keyword">var</span> a <span class="hljs-type">bool</span> = <span class="hljs-literal">true</span><br>   <span class="hljs-keyword">var</span> b <span class="hljs-type">bool</span> = <span class="hljs-literal">false</span><br>   <span class="hljs-keyword">if</span> ( a &amp;&amp; b ) &#123;<br>      fmt.Printf(<span class="hljs-string">&quot;第一行 - 条件为 true\n&quot;</span> )<br>   &#125;<br>   <span class="hljs-keyword">if</span> ( a || b ) &#123;<br>      fmt.Printf(<span class="hljs-string">&quot;第二行 - 条件为 true\n&quot;</span> )<br>   &#125;<br>   <span class="hljs-comment">/* 修改 a 和 b 的值 */</span><br>   a = <span class="hljs-literal">false</span><br>   b = <span class="hljs-literal">true</span><br>   <span class="hljs-keyword">if</span> ( a &amp;&amp; b ) &#123;<br>      fmt.Printf(<span class="hljs-string">&quot;第三行 - 条件为 true\n&quot;</span> )<br>   &#125; <span class="hljs-keyword">else</span> &#123;<br>      fmt.Printf(<span class="hljs-string">&quot;第三行 - 条件为 false\n&quot;</span> )<br>   &#125;<br>   <span class="hljs-keyword">if</span> ( !(a &amp;&amp; b) ) &#123;<br>      fmt.Printf(<span class="hljs-string">&quot;第四行 - 条件为 true\n&quot;</span> )<br>   &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>以上实例运行结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">第二行 - 条件为 true<br>第三行 - 条件为 false<br>第四行 - 条件为 true<br></code></pre></td></tr></table></figure>

<h2 id="位运算符"><a href="#位运算符" class="headerlink" title="位运算符"></a>位运算符</h2><p>位运算符对整数在内存中的二进制位进行操作。</p>
<p>下表列出了位运算符 &amp;, |, 和 ^ 的计算：</p>
<table>
<thead>
<tr>
<th align="left">p</th>
<th align="left">q</th>
<th align="left">p &amp; q</th>
<th align="left">p | q</th>
<th align="left">p ^ q</th>
</tr>
</thead>
<tbody><tr>
<td align="left">0</td>
<td align="left">0</td>
<td align="left">0</td>
<td align="left">0</td>
<td align="left">0</td>
</tr>
<tr>
<td align="left">0</td>
<td align="left">1</td>
<td align="left">0</td>
<td align="left">1</td>
<td align="left">1</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">1</td>
<td align="left">1</td>
<td align="left">1</td>
<td align="left">0</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">0</td>
<td align="left">0</td>
<td align="left">1</td>
<td align="left">1</td>
</tr>
</tbody></table>
<p>假定 A &#x3D; 60; B &#x3D; 13; 其二进制数转换为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">A = 0011 1100<br><br>B = 0000 1101<br><br>-----------------<br><br>A&amp;B = 0000 1100<br><br>A|B = 0011 1101<br><br>A^B = 0011 0001<br></code></pre></td></tr></table></figure>

<p>Go 语言支持的位运算符如下表所示。假定 A 为60，B 为13：</p>
<table>
<thead>
<tr>
<th align="left">运算符</th>
<th align="left">描述</th>
<th align="left">实例</th>
</tr>
</thead>
<tbody><tr>
<td align="left">&amp;</td>
<td align="left">按位与运算符”&amp;”是双目运算符。 其功能是参与运算的两数各对应的二进位相与。</td>
<td align="left">(A &amp; B) 结果为 12, 二进制为 0000 1100</td>
</tr>
<tr>
<td align="left">|</td>
<td align="left">按位或运算符”|”是双目运算符。 其功能是参与运算的两数各对应的二进位相或</td>
<td align="left">(A | B) 结果为 61, 二进制为 0011 1101</td>
</tr>
<tr>
<td align="left">^</td>
<td align="left">按位异或运算符”^”是双目运算符。 其功能是参与运算的两数各对应的二进位相异或，当两对应的二进位相异时，结果为1。</td>
<td align="left">(A ^ B) 结果为 49, 二进制为 0011 0001</td>
</tr>
<tr>
<td align="left">&lt;&lt;</td>
<td align="left">左移运算符”&lt;&lt;”是双目运算符。左移n位就是乘以2的n次方。 其功能把”&lt;&lt;”左边的运算数的各二进位全部左移若干位，由”&lt;&lt;”右边的数指定移动的位数，高位丢弃，低位补0。</td>
<td align="left">A &lt;&lt; 2 结果为 240 ，二进制为 1111 0000</td>
</tr>
<tr>
<td align="left">&gt;&gt;</td>
<td align="left">右移运算符”&gt;&gt;”是双目运算符。右移n位就是除以2的n次方。 其功能是把”&gt;&gt;”左边的运算数的各二进位全部右移若干位，”&gt;&gt;”右边的数指定移动的位数。</td>
<td align="left">A &gt;&gt; 2 结果为 15 ，二进制为 0000 1111</td>
</tr>
</tbody></table>
<p>以下实例演示了位运算符的用法：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br><br>   <span class="hljs-keyword">var</span> a <span class="hljs-type">uint</span> = <span class="hljs-number">60</span>      <span class="hljs-comment">/* 60 = 0011 1100 */</span>  <br>   <span class="hljs-keyword">var</span> b <span class="hljs-type">uint</span> = <span class="hljs-number">13</span>      <span class="hljs-comment">/* 13 = 0000 1101 */</span><br>   <span class="hljs-keyword">var</span> c <span class="hljs-type">uint</span> = <span class="hljs-number">0</span>          <br><br>   c = a &amp; b       <span class="hljs-comment">/* 12 = 0000 1100 */</span><br>   fmt.Printf(<span class="hljs-string">&quot;第一行 - c 的值为 %d\n&quot;</span>, c )<br><br>   c = a | b       <span class="hljs-comment">/* 61 = 0011 1101 */</span><br>   fmt.Printf(<span class="hljs-string">&quot;第二行 - c 的值为 %d\n&quot;</span>, c )<br><br>   c = a ^ b       <span class="hljs-comment">/* 49 = 0011 0001 */</span><br>   fmt.Printf(<span class="hljs-string">&quot;第三行 - c 的值为 %d\n&quot;</span>, c )<br><br>   c = a &lt;&lt; <span class="hljs-number">2</span>     <span class="hljs-comment">/* 240 = 1111 0000 */</span><br>   fmt.Printf(<span class="hljs-string">&quot;第四行 - c 的值为 %d\n&quot;</span>, c )<br><br>   c = a &gt;&gt; <span class="hljs-number">2</span>     <span class="hljs-comment">/* 15 = 0000 1111 */</span><br>   fmt.Printf(<span class="hljs-string">&quot;第五行 - c 的值为 %d\n&quot;</span>, c )<br>&#125;<br></code></pre></td></tr></table></figure>

<p>以上实例运行结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">第一行 - c 的值为 12<br>第二行 - c 的值为 61<br>第三行 - c 的值为 49<br>第四行 - c 的值为 240<br>第五行 - c 的值为 15<br></code></pre></td></tr></table></figure>

<h2 id="赋值运算符"><a href="#赋值运算符" class="headerlink" title="赋值运算符"></a>赋值运算符</h2><p>下表列出了所有Go语言的赋值运算符。</p>
<table>
<thead>
<tr>
<th align="left">运算符</th>
<th align="left">描述</th>
<th align="left">实例</th>
</tr>
</thead>
<tbody><tr>
<td align="left">&#x3D;</td>
<td align="left">简单的赋值运算符，将一个表达式的值赋给一个左值</td>
<td align="left">C &#x3D; A + B 将 A + B 表达式结果赋值给 C</td>
</tr>
<tr>
<td align="left">+&#x3D;</td>
<td align="left">相加后再赋值</td>
<td align="left">C +&#x3D; A 等于 C &#x3D; C + A</td>
</tr>
<tr>
<td align="left">-&#x3D;</td>
<td align="left">相减后再赋值</td>
<td align="left">C -&#x3D; A 等于 C &#x3D; C - A</td>
</tr>
<tr>
<td align="left">*&#x3D;</td>
<td align="left">相乘后再赋值</td>
<td align="left">C *&#x3D; A 等于 C &#x3D; C * A</td>
</tr>
<tr>
<td align="left">&#x2F;&#x3D;</td>
<td align="left">相除后再赋值</td>
<td align="left">C &#x2F;&#x3D; A 等于 C &#x3D; C &#x2F; A</td>
</tr>
<tr>
<td align="left">%&#x3D;</td>
<td align="left">求余后再赋值</td>
<td align="left">C %&#x3D; A 等于 C &#x3D; C % A</td>
</tr>
<tr>
<td align="left">&lt;&lt;&#x3D;</td>
<td align="left">左移后赋值</td>
<td align="left">C &lt;&lt;&#x3D; 2 等于 C &#x3D; C &lt;&lt; 2</td>
</tr>
<tr>
<td align="left">&gt;&gt;&#x3D;</td>
<td align="left">右移后赋值</td>
<td align="left">C &gt;&gt;&#x3D; 2 等于 C &#x3D; C &gt;&gt; 2</td>
</tr>
<tr>
<td align="left">&amp;&#x3D;</td>
<td align="left">按位与后赋值</td>
<td align="left">C &amp;&#x3D; 2 等于 C &#x3D; C &amp; 2</td>
</tr>
<tr>
<td align="left">^&#x3D;</td>
<td align="left">按位异或后赋值</td>
<td align="left">C ^&#x3D; 2 等于 C &#x3D; C ^ 2</td>
</tr>
<tr>
<td align="left">|&#x3D;</td>
<td align="left">按位或后赋值</td>
<td align="left">C |&#x3D; 2 等于 C &#x3D; C | 2</td>
</tr>
</tbody></table>
<p>以下实例演示了赋值运算符的用法：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>   <span class="hljs-keyword">var</span> a <span class="hljs-type">int</span> = <span class="hljs-number">21</span><br>   <span class="hljs-keyword">var</span> c <span class="hljs-type">int</span><br><br>   c =  a<br>   fmt.Printf(<span class="hljs-string">&quot;第 1 行 - =  运算符实例，c 值为 = %d\n&quot;</span>, c )<br><br>   c +=  a<br>   fmt.Printf(<span class="hljs-string">&quot;第 2 行 - += 运算符实例，c 值为 = %d\n&quot;</span>, c )<br><br>   c -=  a<br>   fmt.Printf(<span class="hljs-string">&quot;第 3 行 - -= 运算符实例，c 值为 = %d\n&quot;</span>, c )<br><br>   c *=  a<br>   fmt.Printf(<span class="hljs-string">&quot;第 4 行 - *= 运算符实例，c 值为 = %d\n&quot;</span>, c )<br><br>   c /=  a<br>   fmt.Printf(<span class="hljs-string">&quot;第 5 行 - /= 运算符实例，c 值为 = %d\n&quot;</span>, c )<br><br>   c  = <span class="hljs-number">200</span>;<br><br>   c &lt;&lt;=  <span class="hljs-number">2</span><br>   fmt.Printf(<span class="hljs-string">&quot;第 6行  - &lt;&lt;= 运算符实例，c 值为 = %d\n&quot;</span>, c )<br><br>   c &gt;&gt;=  <span class="hljs-number">2</span><br>   fmt.Printf(<span class="hljs-string">&quot;第 7 行 - &gt;&gt;= 运算符实例，c 值为 = %d\n&quot;</span>, c )<br><br>   c &amp;=  <span class="hljs-number">2</span><br>   fmt.Printf(<span class="hljs-string">&quot;第 8 行 - &amp;= 运算符实例，c 值为 = %d\n&quot;</span>, c )<br><br>   c ^=  <span class="hljs-number">2</span><br>   fmt.Printf(<span class="hljs-string">&quot;第 9 行 - ^= 运算符实例，c 值为 = %d\n&quot;</span>, c )<br><br>   c |=  <span class="hljs-number">2</span><br>   fmt.Printf(<span class="hljs-string">&quot;第 10 行 - |= 运算符实例，c 值为 = %d\n&quot;</span>, c )<br><br>&#125;<br></code></pre></td></tr></table></figure>

<p>以上实例运行结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">第 1 行 - =  运算符实例，c 值为 = 21<br>第 2 行 - += 运算符实例，c 值为 = 42<br>第 3 行 - -= 运算符实例，c 值为 = 21<br>第 4 行 - *= 运算符实例，c 值为 = 441<br>第 5 行 - /= 运算符实例，c 值为 = 21<br>第 6行  - &lt;&lt;= 运算符实例，c 值为 = 800<br>第 7 行 - &gt;&gt;= 运算符实例，c 值为 = 200<br>第 8 行 - &amp;= 运算符实例，c 值为 = 0<br>第 9 行 - ^= 运算符实例，c 值为 = 2<br>第 10 行 - |= 运算符实例，c 值为 = 2<br></code></pre></td></tr></table></figure>

<h2 id="其他运算符"><a href="#其他运算符" class="headerlink" title="其他运算符"></a>其他运算符</h2><p>下表列出了Go语言的其他运算符。</p>
<table>
<thead>
<tr>
<th align="left">运算符</th>
<th align="left">描述</th>
<th align="left">实例</th>
</tr>
</thead>
<tbody><tr>
<td align="left">&amp;</td>
<td align="left">返回变量存储地址</td>
<td align="left">&amp;a; 将给出变量的实际地址。</td>
</tr>
<tr>
<td align="left">*</td>
<td align="left">指针变量。</td>
<td align="left">*a; 是一个指针变量</td>
</tr>
</tbody></table>
<p>以下实例演示了其他运算符的用法：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>   <span class="hljs-keyword">var</span> a <span class="hljs-type">int</span> = <span class="hljs-number">4</span><br>   <span class="hljs-keyword">var</span> b <span class="hljs-type">int32</span><br>   <span class="hljs-keyword">var</span> c <span class="hljs-type">float32</span><br>   <span class="hljs-keyword">var</span> ptr *<span class="hljs-type">int</span><br><br>   <span class="hljs-comment">/* 运算符实例 */</span><br>   fmt.Printf(<span class="hljs-string">&quot;第 1 行 - a 变量类型为 = %T\n&quot;</span>, a );<br>   fmt.Printf(<span class="hljs-string">&quot;第 2 行 - b 变量类型为 = %T\n&quot;</span>, b );<br>   fmt.Printf(<span class="hljs-string">&quot;第 3 行 - c 变量类型为 = %T\n&quot;</span>, c );<br><br>   <span class="hljs-comment">/*  &amp; 和 * 运算符实例 */</span><br>   ptr = &amp;a     <span class="hljs-comment">/* &#x27;ptr&#x27; 包含了 &#x27;a&#x27; 变量的地址 */</span><br>   fmt.Printf(<span class="hljs-string">&quot;a 的值为  %d\n&quot;</span>, a);<br>   fmt.Printf(<span class="hljs-string">&quot;*ptr 为 %d\n&quot;</span>, *ptr);<br>&#125;<br></code></pre></td></tr></table></figure>

<p>以上实例运行结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">第 1 行 - a 变量类型为 = int<br>第 2 行 - b 变量类型为 = int32<br>第 3 行 - c 变量类型为 = float32<br>a 的值为  4<br>*ptr 为 4<br></code></pre></td></tr></table></figure>

<h2 id="运算符优先级"><a href="#运算符优先级" class="headerlink" title="运算符优先级"></a>运算符优先级</h2><p>有些运算符拥有较高的优先级，二元运算符的运算方向均是从左至右。下表列出了所有运算符以及它们的优先级，由上至下代表优先级由高到低：</p>
<table>
<thead>
<tr>
<th align="left">优先级</th>
<th align="left">运算符</th>
</tr>
</thead>
<tbody><tr>
<td align="left">5</td>
<td align="left">* &#x2F; % &lt;&lt; &gt;&gt; &amp; &amp;^</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left">+ - | ^</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">&#x3D;&#x3D; !&#x3D; &lt; &lt;&#x3D; &gt; &gt;&#x3D;</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">&amp;&amp;</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">||</td>
</tr>
</tbody></table>
<p>当然，你可以通过使用括号来临时提升某个表达式的整体运算优先级。</p>
<p>以上实例运行结果：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>   <span class="hljs-keyword">var</span> a <span class="hljs-type">int</span> = <span class="hljs-number">20</span><br>   <span class="hljs-keyword">var</span> b <span class="hljs-type">int</span> = <span class="hljs-number">10</span><br>   <span class="hljs-keyword">var</span> c <span class="hljs-type">int</span> = <span class="hljs-number">15</span><br>   <span class="hljs-keyword">var</span> d <span class="hljs-type">int</span> = <span class="hljs-number">5</span><br>   <span class="hljs-keyword">var</span> e <span class="hljs-type">int</span>;<br><br>   e = (a + b) * c / d;      <span class="hljs-comment">// ( 30 * 15 ) / 5</span><br>   fmt.Printf(<span class="hljs-string">&quot;(a + b) * c / d 的值为 : %d\n&quot;</span>,  e );<br><br>   e = ((a + b) * c) / d;    <span class="hljs-comment">// (30 * 15 ) / 5</span><br>   fmt.Printf(<span class="hljs-string">&quot;((a + b) * c) / d 的值为  : %d\n&quot;</span> ,  e );<br><br>   e = (a + b) * (c / d);   <span class="hljs-comment">// (30) * (15/5)</span><br>   fmt.Printf(<span class="hljs-string">&quot;(a + b) * (c / d) 的值为  : %d\n&quot;</span>,  e );<br><br>   e = a + (b * c) / d;     <span class="hljs-comment">//  20 + (150/5)</span><br>   fmt.Printf(<span class="hljs-string">&quot;a + (b * c) / d 的值为  : %d\n&quot;</span> ,  e );  <br>&#125;<br></code></pre></td></tr></table></figure>

<p>以上实例运行结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">(a + b) * c / d 的值为 : 90<br>((a + b) * c) / d 的值为  : 90<br>(a + b) * (c / d) 的值为  : 90<br>a + (b * c) / d 的值为  : 50<br></code></pre></td></tr></table></figure>



<h1 id="0x07-Go-语言条件语句"><a href="#0x07-Go-语言条件语句" class="headerlink" title="0x07 Go 语言条件语句"></a>0x07 Go 语言条件语句</h1><p>条件语句需要开发者通过指定一个或多个条件，并通过测试条件是否为 true 来决定是否执行指定语句，并在条件为 false 的情况在执行另外的语句。</p>
<p>下图展示了程序语言中条件语句的结构：</p>
<p><img src="https://www.runoob.com/wp-content/uploads/2015/06/ZBuVRsKmCoH6fzoz.png" alt="Go 语言条件语句"></p>
<p>Go 语言提供了以下几种条件判断语句：</p>
<table>
<thead>
<tr>
<th align="left">语句</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><a target="_blank" rel="noopener" href="https://www.runoob.com/go/go-if-statement.html">if 语句</a></td>
<td align="left"><strong>if 语句</strong> 由一个布尔表达式后紧跟一个或多个语句组成。</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://www.runoob.com/go/go-if-else-statement.html">if…else 语句</a></td>
<td align="left"><strong>if 语句</strong> 后可以使用可选的 <strong>else 语句</strong>, else 语句中的表达式在布尔表达式为 false 时执行。</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://www.runoob.com/go/go-nested-if-statements.html">if 嵌套语句</a></td>
<td align="left">你可以在 <strong>if</strong> 或 <strong>else if</strong> 语句中嵌入一个或多个 <strong>if</strong> 或 <strong>else if</strong> 语句。</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://www.runoob.com/go/go-switch-statement.html">switch 语句</a></td>
<td align="left"><strong>switch</strong> 语句用于基于不同条件执行不同动作。</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://www.runoob.com/go/go-select-statement.html">select 语句</a></td>
<td align="left"><strong>select</strong> 语句类似于 <strong>switch</strong> 语句，但是select会随机执行一个可运行的case。如果没有case可运行，它将阻塞，直到有case可运行。</td>
</tr>
</tbody></table>
<blockquote>
<p>注意：Go 没有三目运算符，所以不支持 <strong>?:</strong> 形式的条件判断。</p>
</blockquote>
<h2 id="Go-语言-if-语句"><a href="#Go-语言-if-语句" class="headerlink" title="Go 语言 if 语句"></a>Go 语言 if 语句</h2><p>if 语句由布尔表达式后紧跟一个或多个语句组成。</p>
<h3 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h3><p>Go 编程语言中 if 语句的语法如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">if 布尔表达式 &#123;<br>   /* 在布尔表达式为 true 时执行 */<br>&#125;<br></code></pre></td></tr></table></figure>

<p>If 在布尔表达式为 true 时，其后紧跟的语句块执行，如果为 false 则不执行。</p>
<p>流程图如下：</p>
<p><img src="https://www.runoob.com/wp-content/uploads/2015/06/G2XHghEwpDrpgWcg__original.png" alt="Go 语言 if 语句"></p>
<h3 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h3><p>使用 if 判断一个数变量的大小：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">package main<br><br>import &quot;fmt&quot;<br><br>func main() &#123;<br>   /* 定义局部变量 */<br>   var a int = 10<br> <br>   /* 使用 if 语句判断布尔表达式 */<br>   if a &lt; 20 &#123;<br>       /* 如果条件为 true 则执行以下语句 */<br>       fmt.Printf(&quot;a 小于 20\n&quot; )<br>   &#125;<br>   fmt.Printf(&quot;a 的值为 : %d\n&quot;, a)<br>&#125;<br></code></pre></td></tr></table></figure>

<p>以上代码执行结果为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">a 小于 20<br>a 的值为 : 10<br></code></pre></td></tr></table></figure>



<h2 id="Go-语言-if…else-语句"><a href="#Go-语言-if…else-语句" class="headerlink" title="Go 语言 if…else 语句"></a>Go 语言 if…else 语句</h2><p>if 语句 后可以使用可选的 else 语句, else 语句中的表达式在布尔表达式为 false 时执行。</p>
<h3 id="语法-1"><a href="#语法-1" class="headerlink" title="语法"></a>语法</h3><p>Go 编程语言中 if…else 语句的语法如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">if 布尔表达式 &#123;<br>   /* 在布尔表达式为 true 时执行 */<br>&#125; else &#123;<br>  /* 在布尔表达式为 false 时执行 */<br>&#125;<br></code></pre></td></tr></table></figure>

<p>If 在布尔表达式为 true 时，其后紧跟的语句块执行，如果为 false 则执行 else 语句块。</p>
<p>流程图如下：</p>
<p><img src="https://www.runoob.com/wp-content/uploads/2015/06/bTaq6OdDxlnPXWDv.png" alt="Go 语言 if 语句"></p>
<h3 id="实例-1"><a href="#实例-1" class="headerlink" title="实例"></a>实例</h3><p>使用 if else 判断一个数的大小：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>   <span class="hljs-comment">/* 局部变量定义 */</span><br>   <span class="hljs-keyword">var</span> a <span class="hljs-type">int</span> = <span class="hljs-number">100</span>;<br> <br>   <span class="hljs-comment">/* 判断布尔表达式 */</span><br>   <span class="hljs-keyword">if</span> a &lt; <span class="hljs-number">20</span> &#123;<br>       <span class="hljs-comment">/* 如果条件为 true 则执行以下语句 */</span><br>       fmt.Printf(<span class="hljs-string">&quot;a 小于 20\n&quot;</span> );<br>   &#125; <span class="hljs-keyword">else</span> &#123;<br>       <span class="hljs-comment">/* 如果条件为 false 则执行以下语句 */</span><br>       fmt.Printf(<span class="hljs-string">&quot;a 不小于 20\n&quot;</span> );<br>   &#125;<br>   fmt.Printf(<span class="hljs-string">&quot;a 的值为 : %d\n&quot;</span>, a);<br><br>&#125;<br></code></pre></td></tr></table></figure>

<p>以上代码执行结果为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">a 不小于 20<br>a 的值为 : 100<br></code></pre></td></tr></table></figure>

<h2 id="Go-语言-if-语句嵌套"><a href="#Go-语言-if-语句嵌套" class="headerlink" title="Go 语言 if 语句嵌套"></a>Go 语言 if 语句嵌套</h2><p>你可以在 if 或 else if 语句中嵌入一个或多个 if 或 else if 语句。</p>
<h3 id="语法-2"><a href="#语法-2" class="headerlink" title="语法"></a>语法</h3><p>Go 编程语言中 if…else 语句的语法如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">if 布尔表达式 1 &#123;<br>   /* 在布尔表达式 1 为 true 时执行 */<br>   if 布尔表达式 2 &#123;<br>      /* 在布尔表达式 2 为 true 时执行 */<br>   &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>你可以以同样的方式在 if 语句中嵌套 <strong>else if…else</strong> 语句</p>
<h3 id="实例-2"><a href="#实例-2" class="headerlink" title="实例"></a>实例</h3><p>嵌套使用 if 语句：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>   <span class="hljs-comment">/* 定义局部变量 */</span><br>   <span class="hljs-keyword">var</span> a <span class="hljs-type">int</span> = <span class="hljs-number">100</span><br>   <span class="hljs-keyword">var</span> b <span class="hljs-type">int</span> = <span class="hljs-number">200</span><br> <br>   <span class="hljs-comment">/* 判断条件 */</span><br>   <span class="hljs-keyword">if</span> a == <span class="hljs-number">100</span> &#123;<br>       <span class="hljs-comment">/* if 条件语句为 true 执行 */</span><br>       <span class="hljs-keyword">if</span> b == <span class="hljs-number">200</span> &#123;<br>          <span class="hljs-comment">/* if 条件语句为 true 执行 */</span><br>          fmt.Printf(<span class="hljs-string">&quot;a 的值为 100 ， b 的值为 200\n&quot;</span> );<br>       &#125;<br>   &#125;<br>   fmt.Printf(<span class="hljs-string">&quot;a 值为 : %d\n&quot;</span>, a );<br>   fmt.Printf(<span class="hljs-string">&quot;b 值为 : %d\n&quot;</span>, b );<br>&#125;<br></code></pre></td></tr></table></figure>

<p>以上代码执行结果为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">a 的值为 100 ， b 的值为 200<br>a 值为 : 100<br>b 值为 : 200<br></code></pre></td></tr></table></figure>



<h2 id="Go-语言-switch-语句"><a href="#Go-语言-switch-语句" class="headerlink" title="Go 语言 switch 语句"></a>Go 语言 switch 语句</h2><p>switch 语句用于基于不同条件执行不同动作，每一个 case 分支都是唯一的，从上至下逐一测试，直到匹配为止。</p>
<p>switch 语句执行的过程从上至下，直到找到匹配项，匹配项后面也不需要再加 break。</p>
<p>switch 默认情况下 case 最后自带 break 语句，匹配成功后就不会执行其他 case，如果我们需要执行后面的 case，可以使用 <strong>fallthrough</strong> 。</p>
<h3 id="语法-3"><a href="#语法-3" class="headerlink" title="语法"></a>语法</h3><p>Go 编程语言中 switch 语句的语法如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">switch var1 &#123;<br>    case val1:<br>        ...<br>    case val2:<br>        ...<br>    default:<br>        ...<br>&#125;<br></code></pre></td></tr></table></figure>

<p>变量 var1 可以是任何类型，而 val1 和 val2 则可以是同类型的任意值。类型不被局限于常量或整数，但必须是相同的类型；或者最终结果为相同类型的表达式。</p>
<p>您可以同时测试多个可能符合条件的值，使用逗号分割它们，例如：case val1, val2, val3。</p>
<p>流程图：</p>
<p><img src="https://www.runoob.com/wp-content/uploads/2015/06/JhOEChInS6HWjqCV.png" alt="img"></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>   <span class="hljs-comment">/* 定义局部变量 */</span><br>   <span class="hljs-keyword">var</span> grade <span class="hljs-type">string</span> = <span class="hljs-string">&quot;B&quot;</span><br>   <span class="hljs-keyword">var</span> marks <span class="hljs-type">int</span> = <span class="hljs-number">90</span><br><br>   <span class="hljs-keyword">switch</span> marks &#123;<br>      <span class="hljs-keyword">case</span> <span class="hljs-number">90</span>: grade = <span class="hljs-string">&quot;A&quot;</span><br>      <span class="hljs-keyword">case</span> <span class="hljs-number">80</span>: grade = <span class="hljs-string">&quot;B&quot;</span><br>      <span class="hljs-keyword">case</span> <span class="hljs-number">50</span>,<span class="hljs-number">60</span>,<span class="hljs-number">70</span> : grade = <span class="hljs-string">&quot;C&quot;</span><br>      <span class="hljs-keyword">default</span>: grade = <span class="hljs-string">&quot;D&quot;</span>  <br>   &#125;<br><br>   <span class="hljs-keyword">switch</span> &#123;<br>      <span class="hljs-keyword">case</span> grade == <span class="hljs-string">&quot;A&quot;</span> :<br>         fmt.Printf(<span class="hljs-string">&quot;优秀!\n&quot;</span> )    <br>      <span class="hljs-keyword">case</span> grade == <span class="hljs-string">&quot;B&quot;</span>, grade == <span class="hljs-string">&quot;C&quot;</span> :<br>         fmt.Printf(<span class="hljs-string">&quot;良好\n&quot;</span> )      <br>      <span class="hljs-keyword">case</span> grade == <span class="hljs-string">&quot;D&quot;</span> :<br>         fmt.Printf(<span class="hljs-string">&quot;及格\n&quot;</span> )      <br>      <span class="hljs-keyword">case</span> grade == <span class="hljs-string">&quot;F&quot;</span>:<br>         fmt.Printf(<span class="hljs-string">&quot;不及格\n&quot;</span> )<br>      <span class="hljs-keyword">default</span>:<br>         fmt.Printf(<span class="hljs-string">&quot;差\n&quot;</span> );<br>   &#125;<br>   fmt.Printf(<span class="hljs-string">&quot;你的等级是 %s\n&quot;</span>, grade );      <br>&#125;<br></code></pre></td></tr></table></figure>

<p>以上代码执行结果为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">优秀!<br>你的等级是 A<br></code></pre></td></tr></table></figure>

<hr>
<h3 id="Type-Switch"><a href="#Type-Switch" class="headerlink" title="Type Switch"></a>Type Switch</h3><p>switch 语句还可以被用于 type-switch 来判断某个 interface 变量中实际存储的变量类型。</p>
<p>Type Switch 语法格式如下：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">switch</span> x.(<span class="hljs-keyword">type</span>)&#123;<br>    <span class="hljs-keyword">case</span> <span class="hljs-keyword">type</span>:<br>       statement(s);      <br>    <span class="hljs-keyword">case</span> <span class="hljs-keyword">type</span>:<br>       statement(s); <br>    <span class="hljs-comment">/* 你可以定义任意个数的case */</span><br>    <span class="hljs-keyword">default</span>: <span class="hljs-comment">/* 可选 */</span><br>       statement(s);<br>&#125;<br></code></pre></td></tr></table></figure>



<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>   <span class="hljs-keyword">var</span> x <span class="hljs-keyword">interface</span>&#123;&#125;<br>     <br>   <span class="hljs-keyword">switch</span> i := x.(<span class="hljs-keyword">type</span>) &#123;<br>      <span class="hljs-keyword">case</span> <span class="hljs-literal">nil</span>:  <br>         fmt.Printf(<span class="hljs-string">&quot; x 的类型 :%T&quot;</span>,i)                <br>      <span class="hljs-keyword">case</span> <span class="hljs-type">int</span>:  <br>         fmt.Printf(<span class="hljs-string">&quot;x 是 int 型&quot;</span>)                      <br>      <span class="hljs-keyword">case</span> <span class="hljs-type">float64</span>:<br>         fmt.Printf(<span class="hljs-string">&quot;x 是 float64 型&quot;</span>)          <br>      <span class="hljs-keyword">case</span> <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(<span class="hljs-type">int</span>)</span></span> <span class="hljs-type">float64</span>:<br>         fmt.Printf(<span class="hljs-string">&quot;x 是 func(int) 型&quot;</span>)                      <br>      <span class="hljs-keyword">case</span> <span class="hljs-type">bool</span>, <span class="hljs-type">string</span>:<br>         fmt.Printf(<span class="hljs-string">&quot;x 是 bool 或 string 型&quot;</span> )      <br>      <span class="hljs-keyword">default</span>:<br>         fmt.Printf(<span class="hljs-string">&quot;未知型&quot;</span>)    <br>   &#125;  <br>&#125;<br></code></pre></td></tr></table></figure>

<p>以上代码执行结果为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">x 的类型 :&lt;nil&gt;<br></code></pre></td></tr></table></figure>

<h3 id="fallthrough"><a href="#fallthrough" class="headerlink" title="fallthrough"></a>fallthrough</h3><p>使用 fallthrough 会强制执行后面的 case 语句，fallthrough 不会判断下一条 case 的表达式结果是否为 true。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br><br>    <span class="hljs-keyword">switch</span> &#123;<br>    <span class="hljs-keyword">case</span> <span class="hljs-literal">false</span>:<br>            fmt.Println(<span class="hljs-string">&quot;1、case 条件语句为 false&quot;</span>)<br>            <span class="hljs-keyword">fallthrough</span><br>    <span class="hljs-keyword">case</span> <span class="hljs-literal">true</span>:<br>            fmt.Println(<span class="hljs-string">&quot;2、case 条件语句为 true&quot;</span>)<br>            <span class="hljs-keyword">fallthrough</span><br>    <span class="hljs-keyword">case</span> <span class="hljs-literal">false</span>:<br>            fmt.Println(<span class="hljs-string">&quot;3、case 条件语句为 false&quot;</span>)<br>            <span class="hljs-keyword">fallthrough</span><br>    <span class="hljs-keyword">case</span> <span class="hljs-literal">true</span>:<br>            fmt.Println(<span class="hljs-string">&quot;4、case 条件语句为 true&quot;</span>)<br>    <span class="hljs-keyword">case</span> <span class="hljs-literal">false</span>:<br>            fmt.Println(<span class="hljs-string">&quot;5、case 条件语句为 false&quot;</span>)<br>            <span class="hljs-keyword">fallthrough</span><br>    <span class="hljs-keyword">default</span>:<br>            fmt.Println(<span class="hljs-string">&quot;6、默认 case&quot;</span>)<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>以上代码执行结果为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">2、case 条件语句为 true<br>3、case 条件语句为 false<br>4、case 条件语句为 true<br></code></pre></td></tr></table></figure>

<p>从以上代码输出的结果可以看出：switch 从第一个判断表达式为 true 的 case 开始执行，如果 case 带有 fallthrough，程序会继续执行下一条 case，且它不会去判断下一个 case 的表达式是否为 true。</p>
<h2 id="Go-语言-select-语句"><a href="#Go-语言-select-语句" class="headerlink" title="Go 语言 select 语句"></a>Go 语言 select 语句</h2><p>select 是 Go 中的一个控制结构，类似于用于通信的 switch 语句。每个 case 必须是一个通信操作，要么是发送要么是接收。</p>
<p>select 随机执行一个可运行的 case。如果没有 case 可运行，它将阻塞，直到有 case 可运行。一个默认的子句应该总是可运行的。</p>
<h3 id="语法-4"><a href="#语法-4" class="headerlink" title="语法"></a>语法</h3><p>Go 编程语言中 select 语句的语法如下：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">select</span> &#123;<br>    <span class="hljs-keyword">case</span> communication clause  :<br>       statement(s);      <br>    <span class="hljs-keyword">case</span> communication clause  :<br>       statement(s);<br>    <span class="hljs-comment">/* 你可以定义任意数量的 case */</span><br>    <span class="hljs-keyword">default</span> : <span class="hljs-comment">/* 可选 */</span><br>       statement(s);<br>&#125;<br></code></pre></td></tr></table></figure>

<p>以下描述了 select 语句的语法：</p>
<ul>
<li><p>每个 case 都必须是一个通信</p>
</li>
<li><p>所有 channel 表达式都会被求值</p>
</li>
<li><p>所有被发送的表达式都会被求值</p>
</li>
<li><p>如果任意某个通信可以进行，它就执行，其他被忽略。</p>
</li>
<li><p>如果有多个 case 都可以运行，Select 会随机公平地选出一个执行。其他不会执行。</p>
<p>否则：</p>
<ol>
<li>如果有 default 子句，则执行该语句。</li>
<li>如果没有 default 子句，select 将阻塞，直到某个通信可以运行；Go 不会重新对 channel 或值进行求值。</li>
</ol>
</li>
</ul>
<h3 id="实例-3"><a href="#实例-3" class="headerlink" title="实例"></a>实例</h3><p>select 语句应用演示：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>   <span class="hljs-keyword">var</span> c1, c2, c3 <span class="hljs-keyword">chan</span> <span class="hljs-type">int</span><br>   <span class="hljs-keyword">var</span> i1, i2 <span class="hljs-type">int</span><br>   <span class="hljs-keyword">select</span> &#123;<br>      <span class="hljs-keyword">case</span> i1 = &lt;-c1:<br>         fmt.Printf(<span class="hljs-string">&quot;received &quot;</span>, i1, <span class="hljs-string">&quot; from c1\n&quot;</span>)<br>      <span class="hljs-keyword">case</span> c2 &lt;- i2:<br>         fmt.Printf(<span class="hljs-string">&quot;sent &quot;</span>, i2, <span class="hljs-string">&quot; to c2\n&quot;</span>)<br>      <span class="hljs-keyword">case</span> i3, ok := (&lt;-c3):  <span class="hljs-comment">// same as: i3, ok := &lt;-c3</span><br>         <span class="hljs-keyword">if</span> ok &#123;<br>            fmt.Printf(<span class="hljs-string">&quot;received &quot;</span>, i3, <span class="hljs-string">&quot; from c3\n&quot;</span>)<br>         &#125; <span class="hljs-keyword">else</span> &#123;<br>            fmt.Printf(<span class="hljs-string">&quot;c3 is closed\n&quot;</span>)<br>         &#125;<br>      <span class="hljs-keyword">default</span>:<br>         fmt.Printf(<span class="hljs-string">&quot;no communication\n&quot;</span>)<br>   &#125;    <br>&#125;<br></code></pre></td></tr></table></figure>

<p>以上代码执行结果为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">no communication<br></code></pre></td></tr></table></figure>





<h1 id="0x08-Go-语言循环语句"><a href="#0x08-Go-语言循环语句" class="headerlink" title="0x08 Go 语言循环语句"></a>0x08 Go 语言循环语句</h1><p>在不少实际问题中有许多具有规律性的重复操作，因此在程序中就需要重复执行某些语句。</p>
<p>以下为大多编程语言循环程序的流程图：</p>
<p><img src="https://www.runoob.com/wp-content/uploads/2015/06/go-loops.svg" alt="img"></p>
<p>Go 语言提供了以下几种类型循环处理语句：</p>
<table>
<thead>
<tr>
<th align="left">循环类型</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><a target="_blank" rel="noopener" href="https://www.runoob.com/go/go-for-loop.html">for 循环</a></td>
<td align="left">重复执行语句块</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://www.runoob.com/go/go-nested-loops.html">循环嵌套</a></td>
<td align="left">在 for 循环中嵌套一个或多个 for 循环</td>
</tr>
</tbody></table>
<hr>
<h2 id="循环控制语句"><a href="#循环控制语句" class="headerlink" title="循环控制语句"></a>循环控制语句</h2><p>循环控制语句可以控制循环体内语句的执行过程。</p>
<p>GO 语言支持以下几种循环控制语句：</p>
<table>
<thead>
<tr>
<th align="left">控制语句</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><a target="_blank" rel="noopener" href="https://www.runoob.com/go/go-break-statement.html">break 语句</a></td>
<td align="left">经常用于中断当前 for 循环或跳出 switch 语句</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://www.runoob.com/go/go-continue-statement.html">continue 语句</a></td>
<td align="left">跳过当前循环的剩余语句，然后继续进行下一轮循环。</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://www.runoob.com/go/go-goto-statement.html">goto 语句</a></td>
<td align="left">将控制转移到被标记的语句。</td>
</tr>
</tbody></table>
<hr>
<h2 id="无限循环"><a href="#无限循环" class="headerlink" title="无限循环"></a>无限循环</h2><p>如果循环中条件语句永远不为 false 则会进行无限循环，我们可以通过 for 循环语句中只设置一个条件表达式来执行无限循环：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">package main<br>import &quot;fmt&quot;<br><br>func main() &#123;<br>    for true  &#123;<br>        fmt.Printf(&quot;这是无限循环。\n&quot;);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>







<h1 id="Go-语言-for-循环"><a href="#Go-语言-for-循环" class="headerlink" title="Go 语言 for 循环"></a>Go 语言 for 循环</h1><p>for 循环是一个循环控制结构，可以执行指定次数的循环。</p>
<h3 id="语法-5"><a href="#语法-5" class="headerlink" title="语法"></a>语法</h3><p>Go 语言的 For 循环有 3 种形式，只有其中的一种使用分号。</p>
<p>和 C 语言的 for 一样：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">for init; condition; post &#123; &#125;<br></code></pre></td></tr></table></figure>

<p>和 C 的 while 一样：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">for condition &#123; &#125;<br></code></pre></td></tr></table></figure>

<p>和 C 的 for(;;) 一样：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">for &#123; &#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>init： 一般为赋值表达式，给控制变量赋初值；</li>
<li>condition： 关系表达式或逻辑表达式，循环控制条件；</li>
<li>post： 一般为赋值表达式，给控制变量增量或减量。</li>
</ul>
<p>for语句执行过程如下：</p>
<ul>
<li>1、先对表达式 1 赋初值；</li>
<li>2、判别赋值表达式 init 是否满足给定条件，若其值为真，满足循环条件，则执行循环体内语句，然后执行 post，进入第二次循环，再判别 condition；否则判断 condition 的值为假，不满足条件，就终止for循环，执行循环体外语句。</li>
</ul>
<p>for 循环的 range 格式可以对 slice、map、数组、字符串等进行迭代循环。格式如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">for key, value := range oldMap &#123;<br>    newMap[key] = value<br>&#125;<br></code></pre></td></tr></table></figure>

<p>for 语句语法流程如下图所示：</p>
<p><img src="https://www.runoob.com/wp-content/uploads/2015/06/PVFUw4TZATYSimWQ.png" alt="img"></p>
<p>计算 1 到 10 的数字之和：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">package main<br><br>import &quot;fmt&quot;<br><br>func main() &#123;<br>        sum := 0<br>        for i := 0; i &lt;= 10; i++ &#123;<br>                sum += i<br>        &#125;<br>        fmt.Println(sum)<br>&#125;<br></code></pre></td></tr></table></figure>

<p>输出结果为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">55<br></code></pre></td></tr></table></figure>

<p>init 和 post 参数是可选的，我们可以直接省略它，类似 While 语句。</p>
<p>以下实例在 sum 小于 10 的时候计算 sum 自相加后的值：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">package main<br><br>import &quot;fmt&quot;<br><br>func main() &#123;<br>        sum := 1<br>        for ; sum &lt;= 10; &#123;<br>                sum += sum<br>        &#125;<br>        fmt.Println(sum)<br><br>        // 这样写也可以，更像 While 语句形式<br>        for sum &lt;= 10&#123;<br>                sum += sum<br>        &#125;<br>        fmt.Println(sum)<br>&#125;<br></code></pre></td></tr></table></figure>

<p>输出结果为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">16<br>16<br></code></pre></td></tr></table></figure>

<p>无限循环:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">package main<br><br>import &quot;fmt&quot;<br><br>func main() &#123;<br>        sum := 0<br>        for &#123;<br>            sum++ // 无限循环下去<br>        &#125;<br>        fmt.Println(sum) // 无法输出<br>&#125;<br></code></pre></td></tr></table></figure>

<p>要停止无限循环，可以在命令窗口按下<strong>ctrl-c</strong> 。</p>
<p><strong>For-each range 循环</strong></p>
<p>这种格式的循环可以对字符串、数组、切片等进行迭代输出元素。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">package main<br>import &quot;fmt&quot;<br><br>func main() &#123;<br>        strings := []string&#123;&quot;google&quot;, &quot;runoob&quot;&#125;<br>        for i, s := range strings &#123;<br>                fmt.Println(i, s)<br>        &#125;<br><br><br>        numbers := [6]int&#123;1, 2, 3, 5&#125;<br>        for i,x:= range numbers &#123;<br>                fmt.Printf(&quot;第 %d 位 x 的值 = %d\n&quot;, i,x)<br>        &#125;  <br>&#125;<br></code></pre></td></tr></table></figure>

<p>以上实例运行输出结果为:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">0 google<br>1 runoob<br>第 0 位 x 的值 = 1<br>第 1 位 x 的值 = 2<br>第 2 位 x 的值 = 3<br>第 3 位 x 的值 = 5<br>第 4 位 x 的值 = 0<br>第 5 位 x 的值 = 0<br></code></pre></td></tr></table></figure>





<h1 id="0x09-Go-语言函数"><a href="#0x09-Go-语言函数" class="headerlink" title="0x09 Go 语言函数"></a>0x09 Go 语言函数</h1><p>函数是基本的代码块，用于执行一个任务。</p>
<p>Go 语言最少有个 main() 函数。</p>
<p>你可以通过函数来划分不同功能，逻辑上每个函数执行的是指定的任务。</p>
<p>函数声明告诉了编译器函数的名称，返回类型，和参数。</p>
<p>Go 语言标准库提供了多种可动用的内置的函数。例如，len() 函数可以接受不同类型参数并返回该类型的长度。如果我们传入的是字符串则返回字符串的长度，如果传入的是数组，则返回数组中包含的元素个数。</p>
<hr>
<h2 id="函数定义"><a href="#函数定义" class="headerlink" title="函数定义"></a>函数定义</h2><p>Go 语言函数定义格式如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">func function_name( [parameter list] ) [return_types] &#123;<br>   函数体<br>&#125;<br></code></pre></td></tr></table></figure>

<p>函数定义解析：</p>
<ul>
<li>func：函数由 func 开始声明</li>
<li>function_name：函数名称，函数名和参数列表一起构成了函数签名。</li>
<li>parameter list：参数列表，参数就像一个占位符，当函数被调用时，你可以将值传递给参数，这个值被称为实际参数。参数列表指定的是参数类型、顺序、及参数个数。参数是可选的，也就是说函数也可以不包含参数。</li>
<li>return_types：返回类型，函数返回一列值。return_types 是该列值的数据类型。有些功能不需要返回值，这种情况下 return_types 不是必须的。</li>
<li>函数体：函数定义的代码集合。</li>
</ul>
<p>以下实例为 max() 函数的代码，该函数传入两个整型参数 num1 和 num2，并返回这两个参数的最大值：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">/* 函数返回两个数的最大值 */<br>func max(num1, num2 int) int &#123;<br>   /* 声明局部变量 */<br>   var result int<br><br>   if (num1 &gt; num2) &#123;<br>      result = num1<br>   &#125; else &#123;<br>      result = num2<br>   &#125;<br>   return result<br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="函数调用"><a href="#函数调用" class="headerlink" title="函数调用"></a>函数调用</h2><p>当创建函数时，你定义了函数需要做什么，通过调用该函数来执行指定任务。</p>
<p>调用函数，向函数传递参数，并返回值，例如：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>   <span class="hljs-comment">/* 定义局部变量 */</span><br>   <span class="hljs-keyword">var</span> a <span class="hljs-type">int</span> = <span class="hljs-number">100</span><br>   <span class="hljs-keyword">var</span> b <span class="hljs-type">int</span> = <span class="hljs-number">200</span><br>   <span class="hljs-keyword">var</span> ret <span class="hljs-type">int</span><br><br>   <span class="hljs-comment">/* 调用函数并返回最大值 */</span><br>   ret = max(a, b)<br><br>   fmt.Printf( <span class="hljs-string">&quot;最大值是 : %d\n&quot;</span>, ret )<br>&#125;<br><br><span class="hljs-comment">/* 函数返回两个数的最大值 */</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">max</span><span class="hljs-params">(num1, num2 <span class="hljs-type">int</span>)</span></span> <span class="hljs-type">int</span> &#123;<br>   <span class="hljs-comment">/* 定义局部变量 */</span><br>   <span class="hljs-keyword">var</span> result <span class="hljs-type">int</span><br><br>   <span class="hljs-keyword">if</span> (num1 &gt; num2) &#123;<br>      result = num1<br>   &#125; <span class="hljs-keyword">else</span> &#123;<br>      result = num2<br>   &#125;<br>   <span class="hljs-keyword">return</span> result<br>&#125;<br></code></pre></td></tr></table></figure>

<p>以上实例在 main() 函数中调用 max（）函数，执行结果为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">最大值是 : 200<br></code></pre></td></tr></table></figure>

<h2 id="函数返回多个值"><a href="#函数返回多个值" class="headerlink" title="函数返回多个值"></a>函数返回多个值</h2><p>Go 函数可以返回多个值，例如：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">swap</span><span class="hljs-params">(x, y <span class="hljs-type">string</span>)</span></span> (<span class="hljs-type">string</span>, <span class="hljs-type">string</span>) &#123;<br>   <span class="hljs-keyword">return</span> y, x<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>   a, b := swap(<span class="hljs-string">&quot;Google&quot;</span>, <span class="hljs-string">&quot;Runoob&quot;</span>)<br>   fmt.Println(a, b)<br>&#125;<br></code></pre></td></tr></table></figure>

<p>以上实例执行结果为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">Runoob Google<br></code></pre></td></tr></table></figure>

<hr>
<h2 id="函数参数"><a href="#函数参数" class="headerlink" title="函数参数"></a>函数参数</h2><p>函数如果使用参数，该变量可称为函数的形参。</p>
<p>形参就像定义在函数体内的局部变量。</p>
<p>调用函数，可以通过两种方式来传递参数：</p>
<table>
<thead>
<tr>
<th align="left">传递类型</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">值传递</td>
<td align="left">值传递是指在调用函数时将实际参数复制一份传递到函数中，这样在函数中如果对参数进行修改，将不会影响到实际参数。</td>
</tr>
<tr>
<td align="left">引用传递</td>
<td align="left">引用传递是指在调用函数时将实际参数的地址传递到函数中，那么在函数中对参数所进行的修改，将影响到实际参数。</td>
</tr>
</tbody></table>
<p>默认情况下，Go 语言使用的是值传递，即在调用过程中不会影响到实际参数。</p>
<hr>
<h2 id="函数用法"><a href="#函数用法" class="headerlink" title="函数用法"></a>函数用法</h2><table>
<thead>
<tr>
<th align="left">函数用法</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">函数作为另外一个函数的实参</td>
<td align="left">函数定义后可作为另外一个函数的实参数传入</td>
</tr>
<tr>
<td align="left">闭包</td>
<td align="left">闭包是匿名函数，可在动态编程中使用</td>
</tr>
<tr>
<td align="left">方法</td>
<td align="left">方法就是一个包含了接受者的函数</td>
</tr>
</tbody></table>
<h2 id="Go-语言函数值传递值"><a href="#Go-语言函数值传递值" class="headerlink" title="Go 语言函数值传递值"></a>Go 语言函数值传递值</h2><p>传递是指在调用函数时将实际参数复制一份传递到函数中，这样在函数中如果对参数进行修改，将不会影响到实际参数。</p>
<p>默认情况下，Go 语言使用的是值传递，即在调用过程中不会影响到实际参数。</p>
<p>以下定义了 swap() 函数：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-comment">/* 定义相互交换值的函数 */</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">swap</span><span class="hljs-params">(x, y <span class="hljs-type">int</span>)</span></span> <span class="hljs-type">int</span> &#123;<br>   <span class="hljs-keyword">var</span> temp <span class="hljs-type">int</span><br><br>   temp = x <span class="hljs-comment">/* 保存 x 的值 */</span><br>   x = y    <span class="hljs-comment">/* 将 y 值赋给 x */</span><br>   y = temp <span class="hljs-comment">/* 将 temp 值赋给 y*/</span><br><br>   <span class="hljs-keyword">return</span> temp;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>接下来，让我们使用值传递来调用 swap() 函数：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>   <span class="hljs-comment">/* 定义局部变量 */</span><br>   <span class="hljs-keyword">var</span> a <span class="hljs-type">int</span> = <span class="hljs-number">100</span><br>   <span class="hljs-keyword">var</span> b <span class="hljs-type">int</span> = <span class="hljs-number">200</span><br><br>   fmt.Printf(<span class="hljs-string">&quot;交换前 a 的值为 : %d\n&quot;</span>, a )<br>   fmt.Printf(<span class="hljs-string">&quot;交换前 b 的值为 : %d\n&quot;</span>, b )<br><br>   <span class="hljs-comment">/* 通过调用函数来交换值 */</span><br>   swap(a, b)<br><br>   fmt.Printf(<span class="hljs-string">&quot;交换后 a 的值 : %d\n&quot;</span>, a )<br>   fmt.Printf(<span class="hljs-string">&quot;交换后 b 的值 : %d\n&quot;</span>, b )<br>&#125;<br><br><span class="hljs-comment">/* 定义相互交换值的函数 */</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">swap</span><span class="hljs-params">(x, y <span class="hljs-type">int</span>)</span></span> <span class="hljs-type">int</span> &#123;<br>   <span class="hljs-keyword">var</span> temp <span class="hljs-type">int</span><br><br>   temp = x <span class="hljs-comment">/* 保存 x 的值 */</span><br>   x = y    <span class="hljs-comment">/* 将 y 值赋给 x */</span><br>   y = temp <span class="hljs-comment">/* 将 temp 值赋给 y*/</span><br><br>   <span class="hljs-keyword">return</span> temp;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>以下代码执行结果为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">交换前 a 的值为 : 100<br>交换前 b 的值为 : 200<br>交换后 a 的值 : 100<br>交换后 b 的值 : 200<br></code></pre></td></tr></table></figure>

<p>程序中使用的是值传递, 所以两个值并没有实现交互，我们可以使用引用传递 来实现交换效果。</p>
<h2 id="Go-语言函数引用传递值"><a href="#Go-语言函数引用传递值" class="headerlink" title="Go 语言函数引用传递值"></a>Go 语言函数引用传递值</h2><p>引用传递是指在调用函数时将实际参数的地址传递到函数中，那么在函数中对参数所进行的修改，将影响到实际参数。</p>
<p>引用传递指针参数传递到函数内，以下是交换函数 swap() 使用了引用传递：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-comment">/* 定义交换值函数*/</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">swap</span><span class="hljs-params">(x *<span class="hljs-type">int</span>, y *<span class="hljs-type">int</span>)</span></span> &#123;<br>   <span class="hljs-keyword">var</span> temp <span class="hljs-type">int</span><br>   temp = *x    <span class="hljs-comment">/* 保持 x 地址上的值 */</span><br>   *x = *y      <span class="hljs-comment">/* 将 y 值赋给 x */</span><br>   *y = temp    <span class="hljs-comment">/* 将 temp 值赋给 y */</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p>以下我们通过使用引用传递来调用 swap() 函数：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>   <span class="hljs-comment">/* 定义局部变量 */</span><br>   <span class="hljs-keyword">var</span> a <span class="hljs-type">int</span> = <span class="hljs-number">100</span><br>   <span class="hljs-keyword">var</span> b <span class="hljs-type">int</span>= <span class="hljs-number">200</span><br><br>   fmt.Printf(<span class="hljs-string">&quot;交换前，a 的值 : %d\n&quot;</span>, a )<br>   fmt.Printf(<span class="hljs-string">&quot;交换前，b 的值 : %d\n&quot;</span>, b )<br><br>   <span class="hljs-comment">/* 调用 swap() 函数</span><br><span class="hljs-comment">   * &amp;a 指向 a 指针，a 变量的地址</span><br><span class="hljs-comment">   * &amp;b 指向 b 指针，b 变量的地址</span><br><span class="hljs-comment">   */</span><br>   swap(&amp;a, &amp;b)<br><br>   fmt.Printf(<span class="hljs-string">&quot;交换后，a 的值 : %d\n&quot;</span>, a )<br>   fmt.Printf(<span class="hljs-string">&quot;交换后，b 的值 : %d\n&quot;</span>, b )<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">swap</span><span class="hljs-params">(x *<span class="hljs-type">int</span>, y *<span class="hljs-type">int</span>)</span></span> &#123;<br>   <span class="hljs-keyword">var</span> temp <span class="hljs-type">int</span><br>   temp = *x    <span class="hljs-comment">/* 保存 x 地址上的值 */</span><br>   *x = *y      <span class="hljs-comment">/* 将 y 值赋给 x */</span><br>   *y = temp    <span class="hljs-comment">/* 将 temp 值赋给 y */</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p>以上代码执行结果为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">交换前，a 的值 : 100<br>交换前，b 的值 : 200<br>交换后，a 的值 : 200<br>交换后，b 的值 : 100<br></code></pre></td></tr></table></figure>



<h2 id="Go-语言函数作为实参"><a href="#Go-语言函数作为实参" class="headerlink" title="Go 语言函数作为实参"></a>Go 语言函数作为实参</h2><p>Go 语言可以很灵活的创建函数，并作为另外一个函数的实参。以下实例中我们在定义的函数中初始化一个变量，该函数仅仅是为了使用内置函数 **math.sqrt()**，实例为：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><span class="hljs-keyword">import</span> (<br>   <span class="hljs-string">&quot;fmt&quot;</span><br>   <span class="hljs-string">&quot;math&quot;</span><br>)<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>   <span class="hljs-comment">/* 声明函数变量 */</span><br>   getSquareRoot := <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(x <span class="hljs-type">float64</span>)</span></span> <span class="hljs-type">float64</span> &#123;<br>      <span class="hljs-keyword">return</span> math.Sqrt(x)<br>   &#125;<br><br>   <span class="hljs-comment">/* 使用函数 */</span><br>   fmt.Println(getSquareRoot(<span class="hljs-number">9</span>))<br><br>&#125;<br></code></pre></td></tr></table></figure>

<p>以上代码执行结果为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">3<br></code></pre></td></tr></table></figure>



<h2 id="Go-语言函数闭包"><a href="#Go-语言函数闭包" class="headerlink" title="Go 语言函数闭包"></a>Go 语言函数闭包</h2><p>Go 语言支持匿名函数，可作为闭包。匿名函数是一个”内联”语句或表达式。匿名函数的优越性在于可以直接使用函数内的变量，不必申明。</p>
<p>以下实例中，我们创建了函数 getSequence() ，返回另外一个函数。该函数的目的是在闭包中递增 i 变量，代码如下：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">getSequence</span><span class="hljs-params">()</span></span> <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span></span> <span class="hljs-type">int</span> &#123;<br>   i:=<span class="hljs-number">0</span><br>   <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span></span> <span class="hljs-type">int</span> &#123;<br>      i+=<span class="hljs-number">1</span><br>     <span class="hljs-keyword">return</span> i  <br>   &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>   <span class="hljs-comment">/* nextNumber 为一个函数，函数 i 为 0 */</span><br>   nextNumber := getSequence()  <br><br>   <span class="hljs-comment">/* 调用 nextNumber 函数，i 变量自增 1 并返回 */</span><br>   fmt.Println(nextNumber())<br>   fmt.Println(nextNumber())<br>   fmt.Println(nextNumber())<br>   <br>   <span class="hljs-comment">/* 创建新的函数 nextNumber1，并查看结果 */</span><br>   nextNumber1 := getSequence()  <br>   fmt.Println(nextNumber1())<br>   fmt.Println(nextNumber1())<br>&#125;<br></code></pre></td></tr></table></figure>

<p>以上代码执行结果为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">1<br>2<br>3<br>1<br>2<br></code></pre></td></tr></table></figure>



<h2 id="Go-语言函数方法"><a href="#Go-语言函数方法" class="headerlink" title="Go 语言函数方法"></a>Go 语言函数方法</h2><p>Go 语言中同时有函数和方法。一个方法就是一个包含了接受者的函数，接受者可以是命名类型或者结构体类型的一个值或者是一个指针。所有给定类型的方法属于该类型的方法集。语法格式如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">func (variable_name variable_data_type) function_name() [return_type]&#123;<br>   /* 函数体*/<br>&#125;<br></code></pre></td></tr></table></figure>

<p>下面定义一个结构体类型和该类型的一个方法：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> (<br>   <span class="hljs-string">&quot;fmt&quot;</span>  <br>)<br><br><span class="hljs-comment">/* 定义结构体 */</span><br><span class="hljs-keyword">type</span> Circle <span class="hljs-keyword">struct</span> &#123;<br>  radius <span class="hljs-type">float64</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>  <span class="hljs-keyword">var</span> c1 Circle<br>  c1.radius = <span class="hljs-number">10.00</span><br>  fmt.Println(<span class="hljs-string">&quot;圆的面积 = &quot;</span>, c1.getArea())<br>&#125;<br><br><span class="hljs-comment">//该 method 属于 Circle 类型对象中的方法</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(c Circle)</span></span> getArea() <span class="hljs-type">float64</span> &#123;<br>  <span class="hljs-comment">//c.radius 即为 Circle 类型对象中的属性</span><br>  <span class="hljs-keyword">return</span> <span class="hljs-number">3.14</span> * c.radius * c.radius<br>&#125;<br></code></pre></td></tr></table></figure>

<p>以上代码执行结果为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">圆的面积 =  314<br></code></pre></td></tr></table></figure>



<h1 id="0x0A-Go-语言变量作用域"><a href="#0x0A-Go-语言变量作用域" class="headerlink" title="0x0A Go 语言变量作用域"></a>0x0A Go 语言变量作用域</h1><p>作用域为已声明标识符所表示的常量、类型、变量、函数或包在源代码中的作用范围。</p>
<p>Go 语言中变量可以在三个地方声明：</p>
<ul>
<li>函数内定义的变量称为局部变量</li>
<li>函数外定义的变量称为全局变量</li>
<li>函数定义中的变量称为形式参数</li>
</ul>
<p>接下来让我们具体了解局部变量、全局变量和形式参数。</p>
<hr>
<h2 id="局部变量"><a href="#局部变量" class="headerlink" title="局部变量"></a>局部变量</h2><p>在函数体内声明的变量称之为局部变量，它们的作用域只在函数体内，参数和返回值变量也是局部变量。</p>
<p>以下实例中 main() 函数使用了局部变量 a, b, c：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>   <span class="hljs-comment">/* 声明局部变量 */</span><br>   <span class="hljs-keyword">var</span> a, b, c <span class="hljs-type">int</span><br><br>   <span class="hljs-comment">/* 初始化参数 */</span><br>   a = <span class="hljs-number">10</span><br>   b = <span class="hljs-number">20</span><br>   c = a + b<br><br>   fmt.Printf (<span class="hljs-string">&quot;结果： a = %d, b = %d and c = %d\n&quot;</span>, a, b, c)<br>&#125;<br></code></pre></td></tr></table></figure>

<p>以上实例执行输出结果为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">结果： a = 10, b = 20 and c = 30<br></code></pre></td></tr></table></figure>

<hr>
<h2 id="全局变量"><a href="#全局变量" class="headerlink" title="全局变量"></a>全局变量</h2><p>在函数体外声明的变量称之为全局变量，全局变量可以在整个包甚至外部包（被导出后）使用。</p>
<p>全局变量可以在任何函数中使用，以下实例演示了如何使用全局变量：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><br><span class="hljs-comment">/* 声明全局变量 */</span><br><span class="hljs-keyword">var</span> g <span class="hljs-type">int</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br><br>   <span class="hljs-comment">/* 声明局部变量 */</span><br>   <span class="hljs-keyword">var</span> a, b <span class="hljs-type">int</span><br><br>   <span class="hljs-comment">/* 初始化参数 */</span><br>   a = <span class="hljs-number">10</span><br>   b = <span class="hljs-number">20</span><br>   g = a + b<br><br>   fmt.Printf(<span class="hljs-string">&quot;结果： a = %d, b = %d and g = %d\n&quot;</span>, a, b, g)<br>&#125;<br></code></pre></td></tr></table></figure>

<p>以上实例执行输出结果为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">结果： a = 10, b = 20 and g = 30<br></code></pre></td></tr></table></figure>

<p>Go 语言程序中全局变量与局部变量名称可以相同，但是函数内的局部变量会被优先考虑。实例如下：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><br><span class="hljs-comment">/* 声明全局变量 */</span><br><span class="hljs-keyword">var</span> g <span class="hljs-type">int</span> = <span class="hljs-number">20</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>   <span class="hljs-comment">/* 声明局部变量 */</span><br>   <span class="hljs-keyword">var</span> g <span class="hljs-type">int</span> = <span class="hljs-number">10</span><br><br>   fmt.Printf (<span class="hljs-string">&quot;结果： g = %d\n&quot;</span>,  g)<br>&#125;<br></code></pre></td></tr></table></figure>

<p>以上实例执行输出结果为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">结果： g = 10<br></code></pre></td></tr></table></figure>

<hr>
<h2 id="形式参数"><a href="#形式参数" class="headerlink" title="形式参数"></a>形式参数</h2><p>形式参数会作为函数的局部变量来使用。实例如下：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><br><span class="hljs-comment">/* 声明全局变量 */</span><br><span class="hljs-keyword">var</span> a <span class="hljs-type">int</span> = <span class="hljs-number">20</span>;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>   <span class="hljs-comment">/* main 函数中声明局部变量 */</span><br>   <span class="hljs-keyword">var</span> a <span class="hljs-type">int</span> = <span class="hljs-number">10</span><br>   <span class="hljs-keyword">var</span> b <span class="hljs-type">int</span> = <span class="hljs-number">20</span><br>   <span class="hljs-keyword">var</span> c <span class="hljs-type">int</span> = <span class="hljs-number">0</span><br><br>   fmt.Printf(<span class="hljs-string">&quot;main()函数中 a = %d\n&quot;</span>,  a);<br>   c = sum( a, b);<br>   fmt.Printf(<span class="hljs-string">&quot;main()函数中 c = %d\n&quot;</span>,  c);<br>&#125;<br><br><span class="hljs-comment">/* 函数定义-两数相加 */</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">sum</span><span class="hljs-params">(a, b <span class="hljs-type">int</span>)</span></span> <span class="hljs-type">int</span> &#123;<br>   fmt.Printf(<span class="hljs-string">&quot;sum() 函数中 a = %d\n&quot;</span>,  a);<br>   fmt.Printf(<span class="hljs-string">&quot;sum() 函数中 b = %d\n&quot;</span>,  b);<br><br>   <span class="hljs-keyword">return</span> a + b;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>以上实例执行输出结果为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">main()函数中 a = 10<br>sum() 函数中 a = 10<br>sum() 函数中 b = 20<br>main()函数中 c = 30<br></code></pre></td></tr></table></figure>

<hr>
<h2 id="初始化局部和全局变量"><a href="#初始化局部和全局变量" class="headerlink" title="初始化局部和全局变量"></a>初始化局部和全局变量</h2><p>不同类型的局部和全局变量默认值为：</p>
<table>
<thead>
<tr>
<th align="center">数据类型</th>
<th align="center">初始化默认值</th>
</tr>
</thead>
<tbody><tr>
<td align="center">int</td>
<td align="center">0</td>
</tr>
<tr>
<td align="center">float32</td>
<td align="center">0</td>
</tr>
<tr>
<td align="center">pointer</td>
<td align="center">nil</td>
</tr>
</tbody></table>
<h1 id="0x0B-Go-语言数组"><a href="#0x0B-Go-语言数组" class="headerlink" title="0x0B Go 语言数组"></a>0x0B Go 语言数组</h1><p>Go 语言提供了数组类型的数据结构。</p>
<p>数组是具有相同唯一类型的一组已编号且长度固定的数据项序列，这种类型可以是任意的原始类型例如整型、字符串或者自定义类型。</p>
<p>相对于去声明 <strong>number0, number1, …, number99</strong> 的变量，使用数组形式 <strong>numbers[0], numbers[1] …, numbers[99]</strong> 更加方便且易于扩展。</p>
<p>数组元素可以通过索引（位置）来读取（或者修改），索引从 0 开始，第一个元素索引为 0，第二个索引为 1，以此类推。</p>
<p><img src="https://www.runoob.com/wp-content/uploads/2015/06/goarray.png" alt="img"></p>
<hr>
<h2 id="声明数组"><a href="#声明数组" class="headerlink" title="声明数组"></a>声明数组</h2><p>Go 语言数组声明需要指定元素类型及元素个数，语法格式如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">var variable_name [SIZE] variable_type<br></code></pre></td></tr></table></figure>

<p>以上为一维数组的定义方式。例如以下定义了数组 balance 长度为 10 类型为 float32：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">var balance [10] float32<br></code></pre></td></tr></table></figure>

<hr>
<h2 id="初始化数组"><a href="#初始化数组" class="headerlink" title="初始化数组"></a>初始化数组</h2><p>以下演示了数组初始化：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">var balance = [5]float32&#123;1000.0, 2.0, 3.4, 7.0, 50.0&#125;<br></code></pre></td></tr></table></figure>

<p>我们也可以通过字面量在声明数组的同时快速初始化数组：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">balance := [5]float32&#123;1000.0, 2.0, 3.4, 7.0, 50.0&#125;<br></code></pre></td></tr></table></figure>

<p>如果数组长度不确定，可以使用 <strong>…</strong> 代替数组的长度，编译器会根据元素个数自行推断数组的长度：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">var balance = [...]float32&#123;1000.0, 2.0, 3.4, 7.0, 50.0&#125;<br>或<br>balance := [...]float32&#123;1000.0, 2.0, 3.4, 7.0, 50.0&#125;<br></code></pre></td></tr></table></figure>

<p>如果设置了数组的长度，我们还可以通过指定下标来初始化元素：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">//  将索引为 1 和 3 的元素初始化<br>balance := [5]float32&#123;1:2.0,3:7.0&#125;<br></code></pre></td></tr></table></figure>

<p>初始化数组中 <strong>{}</strong> 中的元素个数不能大于 <strong>[]</strong> 中的数字。</p>
<p>如果忽略 <strong>[]</strong> 中的数字不设置数组大小，Go 语言会根据元素的个数来设置数组的大小：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">balance[4] = 50.0<br></code></pre></td></tr></table></figure>

<p>以上实例读取了第五个元素。数组元素可以通过索引（位置）来读取（或者修改），索引从 0 开始，第一个元素索引为 0，第二个索引为 1，以此类推。</p>
<p><img src="https://www.runoob.com/wp-content/uploads/2015/06/array_presentation.jpg" alt="img"></p>
<hr>
<h2 id="访问数组元素"><a href="#访问数组元素" class="headerlink" title="访问数组元素"></a>访问数组元素</h2><p>数组元素可以通过索引（位置）来读取。格式为数组名后加中括号，中括号中为索引的值。例如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">var salary float32 = balance[9]<br></code></pre></td></tr></table></figure>

<p>以上实例读取了数组 balance 第 10 个元素的值。</p>
<p>以下演示了数组完整操作（声明、赋值、访问）的实例：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>   <span class="hljs-keyword">var</span> n [<span class="hljs-number">10</span>]<span class="hljs-type">int</span> <span class="hljs-comment">/* n 是一个长度为 10 的数组 */</span><br>   <span class="hljs-keyword">var</span> i,j <span class="hljs-type">int</span><br><br>   <span class="hljs-comment">/* 为数组 n 初始化元素 */</span>        <br>   <span class="hljs-keyword">for</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++ &#123;<br>      n[i] = i + <span class="hljs-number">100</span> <span class="hljs-comment">/* 设置元素为 i + 100 */</span><br>   &#125;<br><br>   <span class="hljs-comment">/* 输出每个数组元素的值 */</span><br>   <span class="hljs-keyword">for</span> j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">10</span>; j++ &#123;<br>      fmt.Printf(<span class="hljs-string">&quot;Element[%d] = %d\n&quot;</span>, j, n[j] )<br>   &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>以上实例执行结果如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">Element[0] = 100<br>Element[1] = 101<br>Element[2] = 102<br>Element[3] = 103<br>Element[4] = 104<br>Element[5] = 105<br>Element[6] = 106<br>Element[7] = 107<br>Element[8] = 108<br>Element[9] = 109<br></code></pre></td></tr></table></figure>

<p>实例2</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>   <span class="hljs-keyword">var</span> i,j,k <span class="hljs-type">int</span><br>   <span class="hljs-comment">// 声明数组的同时快速初始化数组</span><br>   balance := [<span class="hljs-number">5</span>]<span class="hljs-type">float32</span>&#123;<span class="hljs-number">1000.0</span>, <span class="hljs-number">2.0</span>, <span class="hljs-number">3.4</span>, <span class="hljs-number">7.0</span>, <span class="hljs-number">50.0</span>&#125;<br><br>   <span class="hljs-comment">/* 输出数组元素 */</span>         ...<br>   <span class="hljs-keyword">for</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++ &#123;<br>      fmt.Printf(<span class="hljs-string">&quot;balance[%d] = %f\n&quot;</span>, i, balance[i] )<br>   &#125;<br>   <br>   balance2 := [...]<span class="hljs-type">float32</span>&#123;<span class="hljs-number">1000.0</span>, <span class="hljs-number">2.0</span>, <span class="hljs-number">3.4</span>, <span class="hljs-number">7.0</span>, <span class="hljs-number">50.0</span>&#125;<br>   <span class="hljs-comment">/* 输出每个数组元素的值 */</span><br>   <span class="hljs-keyword">for</span> j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">5</span>; j++ &#123;<br>      fmt.Printf(<span class="hljs-string">&quot;balance2[%d] = %f\n&quot;</span>, j, balance2[j] )<br>   &#125;<br><br>   <span class="hljs-comment">//  将索引为 1 和 3 的元素初始化</span><br>   balance3 := [<span class="hljs-number">5</span>]<span class="hljs-type">float32</span>&#123;<span class="hljs-number">1</span>:<span class="hljs-number">2.0</span>,<span class="hljs-number">3</span>:<span class="hljs-number">7.0</span>&#125;  <br>   <span class="hljs-keyword">for</span> k = <span class="hljs-number">0</span>; k &lt; <span class="hljs-number">5</span>; k++ &#123;<br>      fmt.Printf(<span class="hljs-string">&quot;balance3[%d] = %f\n&quot;</span>, k, balance3[k] )<br>   &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>以上实例执行结果如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">balance[0] = 1000.000000<br>balance[1] = 2.000000<br>balance[2] = 3.400000<br>balance[3] = 7.000000<br>balance[4] = 50.000000<br>balance2[0] = 1000.000000<br>balance2[1] = 2.000000<br>balance2[2] = 3.400000<br>balance2[3] = 7.000000<br>balance2[4] = 50.000000<br>balance3[0] = 0.000000<br>balance3[1] = 2.000000<br>balance3[2] = 0.000000<br>balance3[3] = 7.000000<br>balance3[4] = 0.000000<br></code></pre></td></tr></table></figure>

<hr>
<h2 id="更多内容"><a href="#更多内容" class="headerlink" title="更多内容"></a>更多内容</h2><p>数组对 Go 语言来说是非常重要的，以下我们将介绍数组更多的内容：</p>
<table>
<thead>
<tr>
<th align="left">内容</th>
<th align="center">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">多维数组</td>
<td align="center">Go 语言支持多维数组，最简单的多维数组是二维数组</td>
</tr>
<tr>
<td align="left">向函数传递数组</td>
<td align="center">你可以向函数传递数组参数</td>
</tr>
</tbody></table>
<h2 id="Go-语言多维数组"><a href="#Go-语言多维数组" class="headerlink" title="Go 语言多维数组"></a>Go 语言多维数组</h2><p>Go 语言支持多维数组，以下为常用的多维数组声明方式：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">var variable_name [SIZE1][SIZE2]...[SIZEN] variable_type<br></code></pre></td></tr></table></figure>

<p>以下实例声明了三维的整型数组：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">var threedim [5][10][4]int<br></code></pre></td></tr></table></figure>

<hr>
<h3 id="二维数组"><a href="#二维数组" class="headerlink" title="二维数组"></a>二维数组</h3><p>二维数组是最简单的多维数组，二维数组本质上是由一维数组组成的。二维数组定义方式如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">var arrayName [ x ][ y ] variable_type<br></code></pre></td></tr></table></figure>

<p>variable_type 为 Go 语言的数据类型，arrayName 为数组名，二维数组可认为是一个表格，x 为行，y 为列，下图演示了一个二维数组 a 为三行四列：</p>
<p><img src="https://www.runoob.com/wp-content/uploads/2015/06/go-array-2021-01-19.png" alt="img"></p>
<p>二维数组中的元素可通过<code>a[ i ][ j ]</code>来访问。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>    <span class="hljs-comment">// Step 1: 创建数组</span><br>    values := [][]<span class="hljs-type">int</span>&#123;&#125;<br><br>    <span class="hljs-comment">// Step 2: 使用 appped() 函数向空的二维数组添加两行一维数组</span><br>    row1 := []<span class="hljs-type">int</span>&#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>&#125;<br>    row2 := []<span class="hljs-type">int</span>&#123;<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>&#125;<br>    values = <span class="hljs-built_in">append</span>(values, row1)<br>    values = <span class="hljs-built_in">append</span>(values, row2)<br><br>    <span class="hljs-comment">// Step 3: 显示两行数据</span><br>    fmt.Println(<span class="hljs-string">&quot;Row 1&quot;</span>)<br>    fmt.Println(values[<span class="hljs-number">0</span>])<br>    fmt.Println(<span class="hljs-string">&quot;Row 2&quot;</span>)<br>    fmt.Println(values[<span class="hljs-number">1</span>])<br><br>    <span class="hljs-comment">// Step 4: 访问第一个元素</span><br>    fmt.Println(<span class="hljs-string">&quot;第一个元素为：&quot;</span>)<br>    fmt.Println(values[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>])<br>&#125;<br></code></pre></td></tr></table></figure>

<p>以上实例运行输出结果为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">Row 1<br>[1 2 3]<br>Row 2<br>[4 5 6]<br>第一个元素为：<br>1<br></code></pre></td></tr></table></figure>

<hr>
<h3 id="初始化二维数组"><a href="#初始化二维数组" class="headerlink" title="初始化二维数组"></a>初始化二维数组</h3><p>多维数组可通过大括号来初始值。以下实例为一个 3 行 4 列的二维数组：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">a := [3][4]int&#123;  <br> &#123;0, 1, 2, 3&#125; ,   /*  第一行索引为 0 */<br> &#123;4, 5, 6, 7&#125; ,   /*  第二行索引为 1 */<br> &#123;8, 9, 10, 11&#125;,   /* 第三行索引为 2 */<br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>注意：</strong>以上代码中倒数第二行的 <strong>}</strong> 必须要有逗号，因为最后一行的 <strong>}</strong> 不能单独一行，也可以写成这样：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">a := [3][4]int&#123;  <br> &#123;0, 1, 2, 3&#125; ,   /*  第一行索引为 0 */<br> &#123;4, 5, 6, 7&#125; ,   /*  第二行索引为 1 */<br> &#123;8, 9, 10, 11&#125;&#125;   /* 第三行索引为 2 */<br></code></pre></td></tr></table></figure>

<p>以下实例初始化一个 2 行 2 列 的二维数组：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>    <span class="hljs-comment">// 创建二维数组</span><br>    sites := [<span class="hljs-number">2</span>][<span class="hljs-number">2</span>]<span class="hljs-type">string</span>&#123;&#125;<br><br>    <span class="hljs-comment">// 向二维数组添加元素</span><br>    sites[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>] = <span class="hljs-string">&quot;Google&quot;</span><br>    sites[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>] = <span class="hljs-string">&quot;Runoob&quot;</span><br>    sites[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>] = <span class="hljs-string">&quot;Taobao&quot;</span><br>    sites[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>] = <span class="hljs-string">&quot;Weibo&quot;</span><br><br>    <span class="hljs-comment">// 显示结果</span><br>    fmt.Println(sites)<br>&#125;<br></code></pre></td></tr></table></figure>

<p>以上实例运行输出结果为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">[[Google Runoob] [Taobao Weibo]]<br></code></pre></td></tr></table></figure>

<hr>
<h3 id="访问二维数组"><a href="#访问二维数组" class="headerlink" title="访问二维数组"></a>访问二维数组</h3><p>二维数组通过指定坐标来访问。如数组中的行索引与列索引，例如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">val := a[2][3]<br>或<br>var value int = a[2][3]<br></code></pre></td></tr></table></figure>

<p>以上实例访问了二维数组 val 第三行的第四个元素。</p>
<p>二维数组可以使用循环嵌套来输出元素：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>   <span class="hljs-comment">/* 数组 - 5 行 2 列*/</span><br>   <span class="hljs-keyword">var</span> a = [<span class="hljs-number">5</span>][<span class="hljs-number">2</span>]<span class="hljs-type">int</span>&#123; &#123;<span class="hljs-number">0</span>,<span class="hljs-number">0</span>&#125;, &#123;<span class="hljs-number">1</span>,<span class="hljs-number">2</span>&#125;, &#123;<span class="hljs-number">2</span>,<span class="hljs-number">4</span>&#125;, &#123;<span class="hljs-number">3</span>,<span class="hljs-number">6</span>&#125;,&#123;<span class="hljs-number">4</span>,<span class="hljs-number">8</span>&#125;&#125;<br>   <span class="hljs-keyword">var</span> i, j <span class="hljs-type">int</span><br><br>   <span class="hljs-comment">/* 输出数组元素 */</span><br>   <span class="hljs-keyword">for</span>  i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++ &#123;<br>      <span class="hljs-keyword">for</span> j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">2</span>; j++ &#123;<br>         fmt.Printf(<span class="hljs-string">&quot;a[%d][%d] = %d\n&quot;</span>, i,j, a[i][j] )<br>      &#125;<br>   &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>以上实例运行输出结果为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">a[0][0] = 0<br>a[0][1] = 0<br>a[1][0] = 1<br>a[1][1] = 2<br>a[2][0] = 2<br>a[2][1] = 4<br>a[3][0] = 3<br>a[3][1] = 6<br>a[4][0] = 4<br>a[4][1] = 8<br></code></pre></td></tr></table></figure>

<p>以下实例创建各个维度元素数量不一致的多维数组：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>    <span class="hljs-comment">// 创建空的二维数组</span><br>    animals := [][]<span class="hljs-type">string</span>&#123;&#125;<br><br>    <span class="hljs-comment">// 创建三一维数组，各数组长度不同</span><br>    row1 := []<span class="hljs-type">string</span>&#123;<span class="hljs-string">&quot;fish&quot;</span>, <span class="hljs-string">&quot;shark&quot;</span>, <span class="hljs-string">&quot;eel&quot;</span>&#125;<br>    row2 := []<span class="hljs-type">string</span>&#123;<span class="hljs-string">&quot;bird&quot;</span>&#125;<br>    row3 := []<span class="hljs-type">string</span>&#123;<span class="hljs-string">&quot;lizard&quot;</span>, <span class="hljs-string">&quot;salamander&quot;</span>&#125;<br><br>    <span class="hljs-comment">// 使用 append() 函数将一维数组添加到二维数组中</span><br>    animals = <span class="hljs-built_in">append</span>(animals, row1)<br>    animals = <span class="hljs-built_in">append</span>(animals, row2)<br>    animals = <span class="hljs-built_in">append</span>(animals, row3)<br><br>    <span class="hljs-comment">// 循环输出</span><br>    <span class="hljs-keyword">for</span> i := <span class="hljs-keyword">range</span> animals &#123;<br>        fmt.Printf(<span class="hljs-string">&quot;Row: %v\n&quot;</span>, i)<br>        fmt.Println(animals[i])<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>以上实例运行输出结果为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">Row: 0<br>[fish shark eel]<br>Row: 1<br>[bird]<br>Row: 2<br>[lizard salamander]<br></code></pre></td></tr></table></figure>





<h2 id="Go-语言向函数传递数组"><a href="#Go-语言向函数传递数组" class="headerlink" title="Go 语言向函数传递数组"></a>Go 语言向函数传递数组</h2><p>如果你想向函数传递数组参数，你需要在函数定义时，声明形参为数组，我们可以通过以下两种方式来声明：</p>
<h3 id="方式一"><a href="#方式一" class="headerlink" title="方式一"></a>方式一</h3><p>形参设定数组大小：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">void myFunction(param [10]int)<br>&#123;<br>.<br>.<br>.<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="方式二"><a href="#方式二" class="headerlink" title="方式二"></a>方式二</h3><p>形参未设定数组大小：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">void myFunction(param []int)<br>&#123;<br>.<br>.<br>.<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="实例-4"><a href="#实例-4" class="headerlink" title="实例"></a>实例</h3><p>让我们看下以下实例，实例中函数接收整型数组参数，另一个参数指定了数组元素的个数，并返回平均值：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">getAverage</span><span class="hljs-params">(arr []<span class="hljs-type">int</span>, size <span class="hljs-type">int</span>)</span></span> <span class="hljs-type">float32</span><br>&#123;<br>   <span class="hljs-keyword">var</span> i <span class="hljs-type">int</span><br>   <span class="hljs-keyword">var</span> avg, sum <span class="hljs-type">float32</span>  <br><br>   <span class="hljs-keyword">for</span> i = <span class="hljs-number">0</span>; i &lt; size; ++i &#123;<br>      sum += arr[i]<br>   &#125;<br><br>   avg = sum / size<br>   <span class="hljs-keyword">return</span> avg;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>接下来我们来调用这个函数：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>   <span class="hljs-comment">/* 数组长度为 5 */</span><br>   <span class="hljs-keyword">var</span>  balance = [<span class="hljs-number">5</span>]<span class="hljs-type">int</span> &#123;<span class="hljs-number">1000</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">17</span>, <span class="hljs-number">50</span>&#125;<br>   <span class="hljs-keyword">var</span> avg <span class="hljs-type">float32</span><br><br>   <span class="hljs-comment">/* 数组作为参数传递给函数 */</span><br>   avg = getAverage( balance, <span class="hljs-number">5</span> ) ;<br><br>   <span class="hljs-comment">/* 输出返回的平均值 */</span><br>   fmt.Printf( <span class="hljs-string">&quot;平均值为: %f &quot;</span>, avg );<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">getAverage</span><span class="hljs-params">(arr [5]<span class="hljs-type">int</span>, size <span class="hljs-type">int</span>)</span></span> <span class="hljs-type">float32</span> &#123;<br>   <span class="hljs-keyword">var</span> i,sum <span class="hljs-type">int</span><br>   <span class="hljs-keyword">var</span> avg <span class="hljs-type">float32</span>  <br><br>   <span class="hljs-keyword">for</span> i = <span class="hljs-number">0</span>; i &lt; size;i++ &#123;<br>      sum += arr[i]<br>   &#125;<br><br>   avg = <span class="hljs-type">float32</span>(sum) / <span class="hljs-type">float32</span>(size)<br><br>   <span class="hljs-keyword">return</span> avg;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>以上实例执行输出结果为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">平均值为: 214.399994<br></code></pre></td></tr></table></figure>

<p>以上实例中我们使用的形参并未设定数组大小。</p>
<p>浮点数计算输出有一定的偏差，你也可以转整型来设置精度。</p>
<p>实例</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><span class="hljs-keyword">import</span> (<br>    <span class="hljs-string">&quot;fmt&quot;</span><br>)<br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>    a := <span class="hljs-number">1.69</span><br>    b := <span class="hljs-number">1.7</span><br>    c := a * b      <span class="hljs-comment">// 结果应该是2.873</span><br>    fmt.Println(c)  <span class="hljs-comment">// 输出的是2.8729999999999998</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p>设置固定精度：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><span class="hljs-keyword">import</span> (<br>    <span class="hljs-string">&quot;fmt&quot;</span><br>)<br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>    a := <span class="hljs-number">1690</span>           <span class="hljs-comment">// 表示1.69</span><br>    b := <span class="hljs-number">1700</span>           <span class="hljs-comment">// 表示1.70</span><br>    c := a * b          <span class="hljs-comment">// 结果应该是2873000表示 2.873</span><br>    fmt.Println(c)      <span class="hljs-comment">// 内部编码</span><br>    fmt.Println(<span class="hljs-type">float64</span>(c) / <span class="hljs-number">1000000</span>) <span class="hljs-comment">// 显示</span><br>&#125;<br></code></pre></td></tr></table></figure>



<h1 id="0x0C-Go-语言指针"><a href="#0x0C-Go-语言指针" class="headerlink" title="0x0C Go 语言指针"></a>0x0C Go 语言指针</h1><p>Go 语言中指针是很容易学习的，Go 语言中使用指针可以更简单的执行一些任务。</p>
<p>接下来让我们来一步步学习 Go 语言指针。</p>
<p>我们都知道，变量是一种使用方便的占位符，用于引用计算机内存地址。</p>
<p>Go 语言的取地址符是 &amp;，放到一个变量前使用就会返回相应变量的内存地址。</p>
<p>以下实例演示了变量在内存中地址：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>   <span class="hljs-keyword">var</span> a <span class="hljs-type">int</span> = <span class="hljs-number">10</span>  <br><br>   fmt.Printf(<span class="hljs-string">&quot;变量的地址: %x\n&quot;</span>, &amp;a  )<br>&#125;<br></code></pre></td></tr></table></figure>

<p>执行以上代码输出结果为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">变量的地址: 20818a220<br></code></pre></td></tr></table></figure>

<p>现在我们已经了解了什么是内存地址和如何去访问它。接下来我们将具体介绍指针。</p>
<hr>
<h2 id="什么是指针"><a href="#什么是指针" class="headerlink" title="什么是指针"></a>什么是指针</h2><p>一个指针变量指向了一个值的内存地址。</p>
<p>类似于变量和常量，在使用指针前你需要声明指针。指针声明格式如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">var var_name *var-type<br></code></pre></td></tr></table></figure>

<p>var-type 为指针类型，var_name 为指针变量名，* 号用于指定变量是作为一个指针。以下是有效的指针声明：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">var ip *int        /* 指向整型*/<br>var fp *float32    /* 指向浮点型 */<br></code></pre></td></tr></table></figure>

<p>本例中这是一个指向 int 和 float32 的指针。</p>
<hr>
<h2 id="如何使用指针"><a href="#如何使用指针" class="headerlink" title="如何使用指针"></a>如何使用指针</h2><p>指针使用流程：</p>
<ul>
<li>定义指针变量。</li>
<li>为指针变量赋值。</li>
<li>访问指针变量中指向地址的值。</li>
</ul>
<p>在指针类型前面加上 * 号（前缀）来获取指针所指向的内容。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>   <span class="hljs-keyword">var</span> a <span class="hljs-type">int</span>= <span class="hljs-number">20</span>   <span class="hljs-comment">/* 声明实际变量 */</span><br>   <span class="hljs-keyword">var</span> ip *<span class="hljs-type">int</span>        <span class="hljs-comment">/* 声明指针变量 */</span><br><br>   ip = &amp;a  <span class="hljs-comment">/* 指针变量的存储地址 */</span><br><br>   fmt.Printf(<span class="hljs-string">&quot;a 变量的地址是: %x\n&quot;</span>, &amp;a  )<br><br>   <span class="hljs-comment">/* 指针变量的存储地址 */</span><br>   fmt.Printf(<span class="hljs-string">&quot;ip 变量储存的指针地址: %x\n&quot;</span>, ip )<br><br>   <span class="hljs-comment">/* 使用指针访问值 */</span><br>   fmt.Printf(<span class="hljs-string">&quot;*ip 变量的值: %d\n&quot;</span>, *ip )<br>&#125;<br></code></pre></td></tr></table></figure>

<p>以上实例执行输出结果为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">a 变量的地址是: 20818a220<br>ip 变量储存的指针地址: 20818a220<br>*ip 变量的值: 20<br></code></pre></td></tr></table></figure>

<h2 id="Go-空指针"><a href="#Go-空指针" class="headerlink" title="Go 空指针"></a>Go 空指针</h2><p>当一个指针被定义后没有分配到任何变量时，它的值为 nil。</p>
<p>nil 指针也称为空指针。</p>
<p>nil在概念上和其它语言的null、None、nil、NULL一样，都指代零值或空值。</p>
<p>一个指针变量通常缩写为 ptr。</p>
<p>查看以下实例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">package main<br><br>import &quot;fmt&quot;<br><br>func main() &#123;<br>   var  ptr *int<br><br>   fmt.Printf(&quot;ptr 的值为 : %x\n&quot;, ptr  )<br>&#125;<br></code></pre></td></tr></table></figure>

<p>以上实例输出结果为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">ptr 的值为 : 0<br></code></pre></td></tr></table></figure>

<p>空指针判断：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">if(ptr != nil)     /* ptr 不是空指针 */<br>if(ptr == nil)    /* ptr 是空指针 */<br></code></pre></td></tr></table></figure>

<hr>
<h2 id="Go指针更多内容"><a href="#Go指针更多内容" class="headerlink" title="Go指针更多内容"></a>Go指针更多内容</h2><p>接下来我们将为大家介绍Go语言中更多的指针应用：</p>
<table>
<thead>
<tr>
<th align="left">内容</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Go 指针数组</td>
<td align="left">你可以定义一个指针数组来存储地址</td>
</tr>
<tr>
<td align="left">Go 指向指针的指针</td>
<td align="left">Go 支持指向指针的指针</td>
</tr>
<tr>
<td align="left">Go 向函数传递指针参数</td>
<td align="left">通过引用或地址传参，在函数调用时可以改变其值</td>
</tr>
</tbody></table>
<h2 id="Go-语言指针数组"><a href="#Go-语言指针数组" class="headerlink" title="Go 语言指针数组"></a>Go 语言指针数组</h2><p>在我们了解指针数组前，先看个实例，定义了长度为 3 的整型数组：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><br><span class="hljs-keyword">const</span> MAX <span class="hljs-type">int</span> = <span class="hljs-number">3</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br><br>   a := []<span class="hljs-type">int</span>&#123;<span class="hljs-number">10</span>,<span class="hljs-number">100</span>,<span class="hljs-number">200</span>&#125;<br>   <span class="hljs-keyword">var</span> i <span class="hljs-type">int</span><br><br>   <span class="hljs-keyword">for</span> i = <span class="hljs-number">0</span>; i &lt; MAX; i++ &#123;<br>      fmt.Printf(<span class="hljs-string">&quot;a[%d] = %d\n&quot;</span>, i, a[i] )<br>   &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>以上代码执行输出结果为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">a[0] = 10<br>a[1] = 100<br>a[2] = 200<br></code></pre></td></tr></table></figure>

<p>有一种情况，我们可能需要保存数组，这样我们就需要使用到指针。</p>
<p>以下声明了整型指针数组：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">var ptr [MAX]*int;<br></code></pre></td></tr></table></figure>

<p>ptr 为整型指针数组。因此每个元素都指向了一个值。以下实例的三个整数将存储在指针数组中：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><br><span class="hljs-keyword">const</span> MAX <span class="hljs-type">int</span> = <span class="hljs-number">3</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>   a := []<span class="hljs-type">int</span>&#123;<span class="hljs-number">10</span>,<span class="hljs-number">100</span>,<span class="hljs-number">200</span>&#125;<br>   <span class="hljs-keyword">var</span> i <span class="hljs-type">int</span><br>   <span class="hljs-keyword">var</span> ptr [MAX]*<span class="hljs-type">int</span>;<br><br>   <span class="hljs-keyword">for</span>  i = <span class="hljs-number">0</span>; i &lt; MAX; i++ &#123;<br>      ptr[i] = &amp;a[i] <span class="hljs-comment">/* 整数地址赋值给指针数组 */</span><br>   &#125;<br><br>   <span class="hljs-keyword">for</span>  i = <span class="hljs-number">0</span>; i &lt; MAX; i++ &#123;<br>      fmt.Printf(<span class="hljs-string">&quot;a[%d] = %d\n&quot;</span>, i,*ptr[i] )<br>   &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>以上代码执行输出结果为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">a[0] = 10<br>a[1] = 100<br>a[2] = 200<br></code></pre></td></tr></table></figure>





<h2 id="Go-语言指向指针的指针"><a href="#Go-语言指向指针的指针" class="headerlink" title="Go 语言指向指针的指针"></a>Go 语言指向指针的指针</h2><p>如果一个指针变量存放的又是另一个指针变量的地址，则称这个指针变量为指向指针的指针变量。</p>
<p>当定义一个指向指针的指针变量时，第一个指针存放第二个指针的地址，第二个指针存放变量的地址：</p>
<p><img src="https://www.runoob.com/wp-content/uploads/2015/06/pointer_to_pointer.jpg" alt="img"></p>
<p>指向指针的指针变量声明格式如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">var ptr **int;<br></code></pre></td></tr></table></figure>

<p>以上指向指针的指针变量为整型。</p>
<p>访问指向指针的指针变量值需要使用两个 * 号，如下所示：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br><br>   <span class="hljs-keyword">var</span> a <span class="hljs-type">int</span><br>   <span class="hljs-keyword">var</span> ptr *<span class="hljs-type">int</span><br>   <span class="hljs-keyword">var</span> pptr **<span class="hljs-type">int</span><br><br>   a = <span class="hljs-number">3000</span><br><br>   <span class="hljs-comment">/* 指针 ptr 地址 */</span><br>   ptr = &amp;a<br><br>   <span class="hljs-comment">/* 指向指针 ptr 地址 */</span><br>   pptr = &amp;ptr<br><br>   <span class="hljs-comment">/* 获取 pptr 的值 */</span><br>   fmt.Printf(<span class="hljs-string">&quot;变量 a = %d\n&quot;</span>, a )<br>   fmt.Printf(<span class="hljs-string">&quot;指针变量 *ptr = %d\n&quot;</span>, *ptr )<br>   fmt.Printf(<span class="hljs-string">&quot;指向指针的指针变量 **pptr = %d\n&quot;</span>, **pptr)<br>&#125;<br></code></pre></td></tr></table></figure>

<p>以上实例执行输出结果为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">变量 a = 3000<br>指针变量 *ptr = 3000<br>指向指针的指针变量 **pptr = 3000<br></code></pre></td></tr></table></figure>



<h2 id="Go-语言指针作为函数参数"><a href="#Go-语言指针作为函数参数" class="headerlink" title="Go 语言指针作为函数参数"></a>Go 语言指针作为函数参数</h2><p>Go 语言允许向函数传递指针，只需要在函数定义的参数上设置为指针类型即可。</p>
<p>以下实例演示了如何向函数传递指针，并在函数调用后修改函数内的值</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>   <span class="hljs-comment">/* 定义局部变量 */</span><br>   <span class="hljs-keyword">var</span> a <span class="hljs-type">int</span> = <span class="hljs-number">100</span><br>   <span class="hljs-keyword">var</span> b <span class="hljs-type">int</span>= <span class="hljs-number">200</span><br><br>   fmt.Printf(<span class="hljs-string">&quot;交换前 a 的值 : %d\n&quot;</span>, a )<br>   fmt.Printf(<span class="hljs-string">&quot;交换前 b 的值 : %d\n&quot;</span>, b )<br><br>   <span class="hljs-comment">/* 调用函数用于交换值</span><br><span class="hljs-comment">   * &amp;a 指向 a 变量的地址</span><br><span class="hljs-comment">   * &amp;b 指向 b 变量的地址</span><br><span class="hljs-comment">   */</span><br>   swap(&amp;a, &amp;b);<br><br>   fmt.Printf(<span class="hljs-string">&quot;交换后 a 的值 : %d\n&quot;</span>, a )<br>   fmt.Printf(<span class="hljs-string">&quot;交换后 b 的值 : %d\n&quot;</span>, b )<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">swap</span><span class="hljs-params">(x *<span class="hljs-type">int</span>, y *<span class="hljs-type">int</span>)</span></span> &#123;<br>   <span class="hljs-keyword">var</span> temp <span class="hljs-type">int</span><br>   temp = *x    <span class="hljs-comment">/* 保存 x 地址的值 */</span><br>   *x = *y      <span class="hljs-comment">/* 将 y 赋值给 x */</span><br>   *y = temp    <span class="hljs-comment">/* 将 temp 赋值给 y */</span><br>&#125;<br></code></pre></td></tr></table></figure>



<p>以上实例允许输出结果为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">交换前 a 的值 : 100<br>交换前 b 的值 : 200<br>交换后 a 的值 : 200<br>交换后 b 的值 : 100<br></code></pre></td></tr></table></figure>





<h1 id="0x0D-Go-语言结构体"><a href="#0x0D-Go-语言结构体" class="headerlink" title="0x0D Go 语言结构体"></a>0x0D Go 语言结构体</h1><p>Go 语言中数组可以存储同一类型的数据，但在结构体中我们可以为不同项定义不同的数据类型。</p>
<p>结构体是由一系列具有相同类型或不同类型的数据构成的数据集合。</p>
<p>结构体表示一项记录，比如保存图书馆的书籍记录，每本书有以下属性：</p>
<ul>
<li>Title ：标题</li>
<li>Author ： 作者</li>
<li>Subject：学科</li>
<li>ID：书籍ID</li>
</ul>
<hr>
<h2 id="定义结构体"><a href="#定义结构体" class="headerlink" title="定义结构体"></a>定义结构体</h2><p>结构体定义需要使用 type 和 struct 语句。struct 语句定义一个新的数据类型，结构体中有一个或多个成员。type 语句设定了结构体的名称。结构体的格式如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">type struct_variable_type struct &#123;<br>   member definition<br>   member definition<br>   ...<br>   member definition<br>&#125;<br></code></pre></td></tr></table></figure>

<p>一旦定义了结构体类型，它就能用于变量的声明，语法格式如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">variable_name := structure_variable_type &#123;value1, value2...valuen&#125;<br>或<br>variable_name := structure_variable_type &#123; key1: value1, key2: value2..., keyn: valuen&#125;<br></code></pre></td></tr></table></figure>

<p>实例如下：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><br><span class="hljs-keyword">type</span> Books <span class="hljs-keyword">struct</span> &#123;<br>   title <span class="hljs-type">string</span><br>   author <span class="hljs-type">string</span><br>   subject <span class="hljs-type">string</span><br>   book_id <span class="hljs-type">int</span><br>&#125;<br><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br><br>    <span class="hljs-comment">// 创建一个新的结构体</span><br>    fmt.Println(Books&#123;<span class="hljs-string">&quot;Go 语言&quot;</span>, <span class="hljs-string">&quot;www.runoob.com&quot;</span>, <span class="hljs-string">&quot;Go 语言教程&quot;</span>, <span class="hljs-number">6495407</span>&#125;)<br><br>    <span class="hljs-comment">// 也可以使用 key =&gt; value 格式</span><br>    fmt.Println(Books&#123;title: <span class="hljs-string">&quot;Go 语言&quot;</span>, author: <span class="hljs-string">&quot;www.runoob.com&quot;</span>, subject: <span class="hljs-string">&quot;Go 语言教程&quot;</span>, book_id: <span class="hljs-number">6495407</span>&#125;)<br><br>    <span class="hljs-comment">// 忽略的字段为 0 或 空</span><br>   fmt.Println(Books&#123;title: <span class="hljs-string">&quot;Go 语言&quot;</span>, author: <span class="hljs-string">&quot;www.runoob.com&quot;</span>&#125;)<br>&#125;<br></code></pre></td></tr></table></figure>

<p>输出结果为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">&#123;Go 语言 www.runoob.com Go 语言教程 6495407&#125;<br>&#123;Go 语言 www.runoob.com Go 语言教程 6495407&#125;<br>&#123;Go 语言 www.runoob.com  0&#125;<br></code></pre></td></tr></table></figure>

<hr>
<h2 id="访问结构体成员"><a href="#访问结构体成员" class="headerlink" title="访问结构体成员"></a>访问结构体成员</h2><p>如果要访问结构体成员，需要使用点号 <strong>.</strong> 操作符，格式为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">结构体.成员名&quot;<br></code></pre></td></tr></table></figure>

<p>结构体类型变量使用 struct 关键字定义，实例如下：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><br><span class="hljs-keyword">type</span> Books <span class="hljs-keyword">struct</span> &#123;<br>   title <span class="hljs-type">string</span><br>   author <span class="hljs-type">string</span><br>   subject <span class="hljs-type">string</span><br>   book_id <span class="hljs-type">int</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>   <span class="hljs-keyword">var</span> Book1 Books        <span class="hljs-comment">/* 声明 Book1 为 Books 类型 */</span><br>   <span class="hljs-keyword">var</span> Book2 Books        <span class="hljs-comment">/* 声明 Book2 为 Books 类型 */</span><br><br>   <span class="hljs-comment">/* book 1 描述 */</span><br>   Book1.title = <span class="hljs-string">&quot;Go 语言&quot;</span><br>   Book1.author = <span class="hljs-string">&quot;www.runoob.com&quot;</span><br>   Book1.subject = <span class="hljs-string">&quot;Go 语言教程&quot;</span><br>   Book1.book_id = <span class="hljs-number">6495407</span><br><br>   <span class="hljs-comment">/* book 2 描述 */</span><br>   Book2.title = <span class="hljs-string">&quot;Python 教程&quot;</span><br>   Book2.author = <span class="hljs-string">&quot;www.runoob.com&quot;</span><br>   Book2.subject = <span class="hljs-string">&quot;Python 语言教程&quot;</span><br>   Book2.book_id = <span class="hljs-number">6495700</span><br><br>   <span class="hljs-comment">/* 打印 Book1 信息 */</span><br>   fmt.Printf( <span class="hljs-string">&quot;Book 1 title : %s\n&quot;</span>, Book1.title)<br>   fmt.Printf( <span class="hljs-string">&quot;Book 1 author : %s\n&quot;</span>, Book1.author)<br>   fmt.Printf( <span class="hljs-string">&quot;Book 1 subject : %s\n&quot;</span>, Book1.subject)<br>   fmt.Printf( <span class="hljs-string">&quot;Book 1 book_id : %d\n&quot;</span>, Book1.book_id)<br><br>   <span class="hljs-comment">/* 打印 Book2 信息 */</span><br>   fmt.Printf( <span class="hljs-string">&quot;Book 2 title : %s\n&quot;</span>, Book2.title)<br>   fmt.Printf( <span class="hljs-string">&quot;Book 2 author : %s\n&quot;</span>, Book2.author)<br>   fmt.Printf( <span class="hljs-string">&quot;Book 2 subject : %s\n&quot;</span>, Book2.subject)<br>   fmt.Printf( <span class="hljs-string">&quot;Book 2 book_id : %d\n&quot;</span>, Book2.book_id)<br>&#125;<br></code></pre></td></tr></table></figure>

<p>以上实例执行运行结果为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">Book 1 title : Go 语言<br>Book 1 author : www.runoob.com<br>Book 1 subject : Go 语言教程<br>Book 1 book_id : 6495407<br>Book 2 title : Python 教程<br>Book 2 author : www.runoob.com<br>Book 2 subject : Python 语言教程<br>Book 2 book_id : 6495700<br></code></pre></td></tr></table></figure>

<hr>
<h2 id="结构体作为函数参数"><a href="#结构体作为函数参数" class="headerlink" title="结构体作为函数参数"></a>结构体作为函数参数</h2><p>你可以像其他数据类型一样将结构体类型作为参数传递给函数。并以以上实例的方式访问结构体变量：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><br><span class="hljs-keyword">type</span> Books <span class="hljs-keyword">struct</span> &#123;<br>   title <span class="hljs-type">string</span><br>   author <span class="hljs-type">string</span><br>   subject <span class="hljs-type">string</span><br>   book_id <span class="hljs-type">int</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>   <span class="hljs-keyword">var</span> Book1 Books        <span class="hljs-comment">/* 声明 Book1 为 Books 类型 */</span><br>   <span class="hljs-keyword">var</span> Book2 Books        <span class="hljs-comment">/* 声明 Book2 为 Books 类型 */</span><br><br>   <span class="hljs-comment">/* book 1 描述 */</span><br>   Book1.title = <span class="hljs-string">&quot;Go 语言&quot;</span><br>   Book1.author = <span class="hljs-string">&quot;www.runoob.com&quot;</span><br>   Book1.subject = <span class="hljs-string">&quot;Go 语言教程&quot;</span><br>   Book1.book_id = <span class="hljs-number">6495407</span><br><br>   <span class="hljs-comment">/* book 2 描述 */</span><br>   Book2.title = <span class="hljs-string">&quot;Python 教程&quot;</span><br>   Book2.author = <span class="hljs-string">&quot;www.runoob.com&quot;</span><br>   Book2.subject = <span class="hljs-string">&quot;Python 语言教程&quot;</span><br>   Book2.book_id = <span class="hljs-number">6495700</span><br><br>   <span class="hljs-comment">/* 打印 Book1 信息 */</span><br>   printBook(Book1)<br><br>   <span class="hljs-comment">/* 打印 Book2 信息 */</span><br>   printBook(Book2)<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">printBook</span><span class="hljs-params">( book Books )</span></span> &#123;<br>   fmt.Printf( <span class="hljs-string">&quot;Book title : %s\n&quot;</span>, book.title)<br>   fmt.Printf( <span class="hljs-string">&quot;Book author : %s\n&quot;</span>, book.author)<br>   fmt.Printf( <span class="hljs-string">&quot;Book subject : %s\n&quot;</span>, book.subject)<br>   fmt.Printf( <span class="hljs-string">&quot;Book book_id : %d\n&quot;</span>, book.book_id)<br>&#125;<br></code></pre></td></tr></table></figure>

<p>以上实例执行运行结果为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">Book title : Go 语言<br>Book author : www.runoob.com<br>Book subject : Go 语言教程<br>Book book_id : 6495407<br>Book title : Python 教程<br>Book author : www.runoob.com<br>Book subject : Python 语言教程<br>Book book_id : 6495700<br></code></pre></td></tr></table></figure>

<hr>
<h2 id="结构体指针"><a href="#结构体指针" class="headerlink" title="结构体指针"></a>结构体指针</h2><p>你可以定义指向结构体的指针类似于其他指针变量，格式如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">var struct_pointer *Books<br></code></pre></td></tr></table></figure>

<p>以上定义的指针变量可以存储结构体变量的地址。查看结构体变量地址，可以将 &amp; 符号放置于结构体变量前：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">struct_pointer = &amp;Book1<br></code></pre></td></tr></table></figure>

<p>使用结构体指针访问结构体成员，使用 “.” 操作符：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">struct_pointer.title<br></code></pre></td></tr></table></figure>

<p>接下来让我们使用结构体指针重写以上实例，代码如下：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><br><span class="hljs-keyword">type</span> Books <span class="hljs-keyword">struct</span> &#123;<br>   title <span class="hljs-type">string</span><br>   author <span class="hljs-type">string</span><br>   subject <span class="hljs-type">string</span><br>   book_id <span class="hljs-type">int</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>   <span class="hljs-keyword">var</span> Book1 Books        <span class="hljs-comment">/* 声明 Book1 为 Books 类型 */</span><br>   <span class="hljs-keyword">var</span> Book2 Books        <span class="hljs-comment">/* 声明 Book2 为 Books 类型 */</span><br><br>   <span class="hljs-comment">/* book 1 描述 */</span><br>   Book1.title = <span class="hljs-string">&quot;Go 语言&quot;</span><br>   Book1.author = <span class="hljs-string">&quot;www.runoob.com&quot;</span><br>   Book1.subject = <span class="hljs-string">&quot;Go 语言教程&quot;</span><br>   Book1.book_id = <span class="hljs-number">6495407</span><br><br>   <span class="hljs-comment">/* book 2 描述 */</span><br>   Book2.title = <span class="hljs-string">&quot;Python 教程&quot;</span><br>   Book2.author = <span class="hljs-string">&quot;www.runoob.com&quot;</span><br>   Book2.subject = <span class="hljs-string">&quot;Python 语言教程&quot;</span><br>   Book2.book_id = <span class="hljs-number">6495700</span><br><br>   <span class="hljs-comment">/* 打印 Book1 信息 */</span><br>   printBook(&amp;Book1)<br><br>   <span class="hljs-comment">/* 打印 Book2 信息 */</span><br>   printBook(&amp;Book2)<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">printBook</span><span class="hljs-params">( book *Books )</span></span> &#123;<br>   fmt.Printf( <span class="hljs-string">&quot;Book title : %s\n&quot;</span>, book.title)<br>   fmt.Printf( <span class="hljs-string">&quot;Book author : %s\n&quot;</span>, book.author)<br>   fmt.Printf( <span class="hljs-string">&quot;Book subject : %s\n&quot;</span>, book.subject)<br>   fmt.Printf( <span class="hljs-string">&quot;Book book_id : %d\n&quot;</span>, book.book_id)<br>&#125;<br></code></pre></td></tr></table></figure>

<p>以上实例执行运行结果为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">Book title : Go 语言<br>Book author : www.runoob.com<br>Book subject : Go 语言教程<br>Book book_id : 6495407<br>Book title : Python 教程<br>Book author : www.runoob.com<br>Book subject : Python 语言教程<br>Book book_id : 6495700<br></code></pre></td></tr></table></figure>





<h1 id="0x0E-Go-语言切片-Slice"><a href="#0x0E-Go-语言切片-Slice" class="headerlink" title="0x0E Go 语言切片(Slice)"></a>0x0E Go 语言切片(Slice)</h1><p>Go 语言切片是对数组的抽象。</p>
<p>Go 数组的长度不可改变，在特定场景中这样的集合就不太适用，Go 中提供了一种灵活，功能强悍的内置类型切片(“动态数组”)，与数组相比切片的长度是不固定的，可以追加元素，在追加时可能使切片的容量增大。</p>
<hr>
<h2 id="定义切片"><a href="#定义切片" class="headerlink" title="定义切片"></a>定义切片</h2><p>你可以声明一个未指定大小的数组来定义切片：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">var identifier []type<br></code></pre></td></tr></table></figure>

<p>切片不需要说明长度。</p>
<p>或使用 <strong>make()</strong> 函数来创建切片:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">var slice1 []type = make([]type, len)<br><br>也可以简写为<br><br>slice1 := make([]type, len)<br></code></pre></td></tr></table></figure>

<p>也可以指定容量，其中 <strong>capacity</strong> 为可选参数。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">make([]T, length, capacity)<br></code></pre></td></tr></table></figure>

<p>这里 len 是数组的长度并且也是切片的初始长度。</p>
<h3 id="切片初始化"><a href="#切片初始化" class="headerlink" title="切片初始化"></a>切片初始化</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">s :=[] int &#123;1,2,3 &#125; <br></code></pre></td></tr></table></figure>

<p>直接初始化切片，**[]** 表示是切片类型，**{1,2,3}** 初始化值依次是 <strong>1,2,3</strong>，其 <strong>cap&#x3D;len&#x3D;3</strong>。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">s := arr[:] <br></code></pre></td></tr></table></figure>

<p>初始化切片 <strong>s</strong>，是数组 arr 的引用。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">s := arr[startIndex:endIndex] <br></code></pre></td></tr></table></figure>

<p>将 arr 中从下标 startIndex 到 endIndex-1 下的元素创建为一个新的切片。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">s := arr[startIndex:] <br></code></pre></td></tr></table></figure>

<p>默认 endIndex 时将表示一直到arr的最后一个元素。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">s := arr[:endIndex] <br></code></pre></td></tr></table></figure>

<p>默认 startIndex 时将表示从 arr 的第一个元素开始。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">s1 := s[startIndex:endIndex] <br></code></pre></td></tr></table></figure>

<p>通过切片 s 初始化切片 s1。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">s :=make([]int,len,cap) <br></code></pre></td></tr></table></figure>

<p>通过内置函数 <strong>make()</strong> 初始化切片<strong>s</strong>，**[]int** 标识为其元素类型为 int 的切片。</p>
<hr>
<h2 id="len-和-cap-函数"><a href="#len-和-cap-函数" class="headerlink" title="len() 和 cap() 函数"></a>len() 和 cap() 函数</h2><p>切片是可索引的，并且可以由 len() 方法获取长度。</p>
<p>切片提供了计算容量的方法 cap() 可以测量切片最长可以达到多少。</p>
<p>以下为具体实例：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>   <span class="hljs-keyword">var</span> numbers = <span class="hljs-built_in">make</span>([]<span class="hljs-type">int</span>,<span class="hljs-number">3</span>,<span class="hljs-number">5</span>)<br><br>   printSlice(numbers)<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">printSlice</span><span class="hljs-params">(x []<span class="hljs-type">int</span>)</span></span>&#123;<br>   fmt.Printf(<span class="hljs-string">&quot;len=%d cap=%d slice=%v\n&quot;</span>,<span class="hljs-built_in">len</span>(x),<span class="hljs-built_in">cap</span>(x),x)<br>&#125;<br></code></pre></td></tr></table></figure>

<p>以上实例运行输出结果为:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">len=3 cap=5 slice=[0 0 0]<br></code></pre></td></tr></table></figure>

<h2 id="空-nil-切片"><a href="#空-nil-切片" class="headerlink" title="空(nil)切片"></a>空(nil)切片</h2><p>一个切片在未初始化之前默认为 nil，长度为 0，实例如下：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>   <span class="hljs-keyword">var</span> numbers []<span class="hljs-type">int</span><br><br>   printSlice(numbers)<br><br>   <span class="hljs-keyword">if</span>(numbers == <span class="hljs-literal">nil</span>)&#123;<br>      fmt.Printf(<span class="hljs-string">&quot;切片是空的&quot;</span>)<br>   &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">printSlice</span><span class="hljs-params">(x []<span class="hljs-type">int</span>)</span></span>&#123;<br>   fmt.Printf(<span class="hljs-string">&quot;len=%d cap=%d slice=%v\n&quot;</span>,<span class="hljs-built_in">len</span>(x),<span class="hljs-built_in">cap</span>(x),x)<br>&#125;<br></code></pre></td></tr></table></figure>

<p>以上实例运行输出结果为:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">len=0 cap=0 slice=[]<br>切片是空的<br></code></pre></td></tr></table></figure>

<hr>
<h2 id="切片截取"><a href="#切片截取" class="headerlink" title="切片截取"></a>切片截取</h2><p>可以通过设置下限及上限来设置截取切片 *[lower-bound:upper-bound]*，实例如下：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>   <span class="hljs-comment">/* 创建切片 */</span><br>   numbers := []<span class="hljs-type">int</span>&#123;<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>,<span class="hljs-number">7</span>,<span class="hljs-number">8</span>&#125;  <br>   printSlice(numbers)<br><br>   <span class="hljs-comment">/* 打印原始切片 */</span><br>   fmt.Println(<span class="hljs-string">&quot;numbers ==&quot;</span>, numbers)<br><br>   <span class="hljs-comment">/* 打印子切片从索引1(包含) 到索引4(不包含)*/</span><br>   fmt.Println(<span class="hljs-string">&quot;numbers[1:4] ==&quot;</span>, numbers[<span class="hljs-number">1</span>:<span class="hljs-number">4</span>])<br><br>   <span class="hljs-comment">/* 默认下限为 0*/</span><br>   fmt.Println(<span class="hljs-string">&quot;numbers[:3] ==&quot;</span>, numbers[:<span class="hljs-number">3</span>])<br><br>   <span class="hljs-comment">/* 默认上限为 len(s)*/</span><br>   fmt.Println(<span class="hljs-string">&quot;numbers[4:] ==&quot;</span>, numbers[<span class="hljs-number">4</span>:])<br><br>   numbers1 := <span class="hljs-built_in">make</span>([]<span class="hljs-type">int</span>,<span class="hljs-number">0</span>,<span class="hljs-number">5</span>)<br>   printSlice(numbers1)<br><br>   <span class="hljs-comment">/* 打印子切片从索引  0(包含) 到索引 2(不包含) */</span><br>   number2 := numbers[:<span class="hljs-number">2</span>]<br>   printSlice(number2)<br><br>   <span class="hljs-comment">/* 打印子切片从索引 2(包含) 到索引 5(不包含) */</span><br>   number3 := numbers[<span class="hljs-number">2</span>:<span class="hljs-number">5</span>]<br>   printSlice(number3)<br><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">printSlice</span><span class="hljs-params">(x []<span class="hljs-type">int</span>)</span></span>&#123;<br>   fmt.Printf(<span class="hljs-string">&quot;len=%d cap=%d slice=%v\n&quot;</span>,<span class="hljs-built_in">len</span>(x),<span class="hljs-built_in">cap</span>(x),x)<br>&#125;<br><br></code></pre></td></tr></table></figure>

<p>执行以上代码输出结果为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">len=9 cap=9 slice=[0 1 2 3 4 5 6 7 8]<br>numbers == [0 1 2 3 4 5 6 7 8]<br>numbers[1:4] == [1 2 3]<br>numbers[:3] == [0 1 2]<br>numbers[4:] == [4 5 6 7 8]<br>len=0 cap=5 slice=[]<br>len=2 cap=9 slice=[0 1]<br>len=3 cap=7 slice=[2 3 4]<br></code></pre></td></tr></table></figure>

<h2 id="append-和-copy-函数"><a href="#append-和-copy-函数" class="headerlink" title="append() 和 copy() 函数"></a>append() 和 copy() 函数</h2><p>如果想增加切片的容量，我们必须创建一个新的更大的切片并把原分片的内容都拷贝过来。</p>
<p>下面的代码描述了从拷贝切片的 copy 方法和向切片追加新元素的 append 方法。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>   <span class="hljs-keyword">var</span> numbers []<span class="hljs-type">int</span><br>   printSlice(numbers)<br><br>   <span class="hljs-comment">/* 允许追加空切片 */</span><br>   numbers = <span class="hljs-built_in">append</span>(numbers, <span class="hljs-number">0</span>)<br>   printSlice(numbers)<br><br>   <span class="hljs-comment">/* 向切片添加一个元素 */</span><br>   numbers = <span class="hljs-built_in">append</span>(numbers, <span class="hljs-number">1</span>)<br>   printSlice(numbers)<br><br>   <span class="hljs-comment">/* 同时添加多个元素 */</span><br>   numbers = <span class="hljs-built_in">append</span>(numbers, <span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>)<br>   printSlice(numbers)<br><br>   <span class="hljs-comment">/* 创建切片 numbers1 是之前切片的两倍容量*/</span><br>   numbers1 := <span class="hljs-built_in">make</span>([]<span class="hljs-type">int</span>, <span class="hljs-built_in">len</span>(numbers), (<span class="hljs-built_in">cap</span>(numbers))*<span class="hljs-number">2</span>)<br><br>   <span class="hljs-comment">/* 拷贝 numbers 的内容到 numbers1 */</span><br>   <span class="hljs-built_in">copy</span>(numbers1,numbers)<br>   printSlice(numbers1)  <br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">printSlice</span><span class="hljs-params">(x []<span class="hljs-type">int</span>)</span></span>&#123;<br>   fmt.Printf(<span class="hljs-string">&quot;len=%d cap=%d slice=%v\n&quot;</span>,<span class="hljs-built_in">len</span>(x),<span class="hljs-built_in">cap</span>(x),x)<br>&#125;<br></code></pre></td></tr></table></figure>

<p>以上代码执行输出结果为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">len=0 cap=0 slice=[]<br>len=1 cap=1 slice=[0]<br>len=2 cap=2 slice=[0 1]<br>len=5 cap=6 slice=[0 1 2 3 4]<br>len=5 cap=12 slice=[0 1 2 3 4]<br></code></pre></td></tr></table></figure>





<h1 id="0x0F-Go-语言范围-Range"><a href="#0x0F-Go-语言范围-Range" class="headerlink" title="0x0F Go 语言范围(Range)"></a>0x0F Go 语言范围(Range)</h1><p>Go 语言中 range 关键字用于 for 循环中迭代数组(array)、切片(slice)、通道(channel)或集合(map)的元素。在数组和切片中它返回元素的索引和索引对应的值，在集合中返回 key-value 对。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>    <span class="hljs-comment">//这是我们使用range去求一个slice的和。使用数组跟这个很类似</span><br>    nums := []<span class="hljs-type">int</span>&#123;<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>&#125;<br>    sum := <span class="hljs-number">0</span><br>    <span class="hljs-keyword">for</span> _, num := <span class="hljs-keyword">range</span> nums &#123;<br>        sum += num<br>    &#125;<br>    fmt.Println(<span class="hljs-string">&quot;sum:&quot;</span>, sum)<br>    <span class="hljs-comment">//在数组上使用range将传入index和值两个变量。上面那个例子我们不需要使用该元素的序号，所以我们使用空白符&quot;_&quot;省略了。有时侯我们确实需要知道它的索引。</span><br>    <span class="hljs-keyword">for</span> i, num := <span class="hljs-keyword">range</span> nums &#123;<br>        <span class="hljs-keyword">if</span> num == <span class="hljs-number">3</span> &#123;<br>            fmt.Println(<span class="hljs-string">&quot;index:&quot;</span>, i)<br>        &#125;<br>    &#125;<br>    <span class="hljs-comment">//range也可以用在map的键值对上。</span><br>    kvs := <span class="hljs-keyword">map</span>[<span class="hljs-type">string</span>]<span class="hljs-type">string</span>&#123;<span class="hljs-string">&quot;a&quot;</span>: <span class="hljs-string">&quot;apple&quot;</span>, <span class="hljs-string">&quot;b&quot;</span>: <span class="hljs-string">&quot;banana&quot;</span>&#125;<br>    <span class="hljs-keyword">for</span> k, v := <span class="hljs-keyword">range</span> kvs &#123;<br>        fmt.Printf(<span class="hljs-string">&quot;%s -&gt; %s\n&quot;</span>, k, v)<br>    &#125;<br>    <span class="hljs-comment">//range也可以用来枚举Unicode字符串。第一个参数是字符的索引，第二个是字符（Unicode的值）本身。</span><br>    <span class="hljs-keyword">for</span> i, c := <span class="hljs-keyword">range</span> <span class="hljs-string">&quot;go&quot;</span> &#123;<br>        fmt.Println(i, c)<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>以上实例运行输出结果为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">sum: 9<br>index: 1<br>a -&gt; apple<br>b -&gt; banana<br>0 103<br>1 111<br></code></pre></td></tr></table></figure>





<h1 id="0x10-Go-语言Map-集合"><a href="#0x10-Go-语言Map-集合" class="headerlink" title="0x10 Go 语言Map(集合)"></a>0x10 Go 语言Map(集合)</h1><p>Map 是一种无序的键值对的集合。Map 最重要的一点是通过 key 来快速检索数据，key 类似于索引，指向数据的值。</p>
<p>Map 是一种集合，所以我们可以像迭代数组和切片那样迭代它。不过，Map 是无序的，我们无法决定它的返回顺序，这是因为 Map 是使用 hash 表来实现的。</p>
<h3 id="定义-Map"><a href="#定义-Map" class="headerlink" title="定义 Map"></a>定义 Map</h3><p>可以使用内建函数 make 也可以使用 map 关键字来定义 Map:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">/* 声明变量，默认 map 是 nil */<br>var map_variable map[key_data_type]value_data_type<br><br>/* 使用 make 函数 */<br>map_variable := make(map[key_data_type]value_data_type)<br></code></pre></td></tr></table></figure>

<p>如果不初始化 map，那么就会创建一个 nil map。nil map 不能用来存放键值对</p>
<p>下面实例演示了创建和使用map:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>    <span class="hljs-keyword">var</span> countryCapitalMap <span class="hljs-keyword">map</span>[<span class="hljs-type">string</span>]<span class="hljs-type">string</span> <span class="hljs-comment">/*创建集合 */</span><br>    countryCapitalMap = <span class="hljs-built_in">make</span>(<span class="hljs-keyword">map</span>[<span class="hljs-type">string</span>]<span class="hljs-type">string</span>)<br><br>    <span class="hljs-comment">/* map插入key - value对,各个国家对应的首都 */</span><br>    countryCapitalMap [ <span class="hljs-string">&quot;France&quot;</span> ] = <span class="hljs-string">&quot;巴黎&quot;</span><br>    countryCapitalMap [ <span class="hljs-string">&quot;Italy&quot;</span> ] = <span class="hljs-string">&quot;罗马&quot;</span><br>    countryCapitalMap [ <span class="hljs-string">&quot;Japan&quot;</span> ] = <span class="hljs-string">&quot;东京&quot;</span><br>    countryCapitalMap [ <span class="hljs-string">&quot;India &quot;</span> ] = <span class="hljs-string">&quot;新德里&quot;</span><br><br>    <span class="hljs-comment">/*使用键输出地图值 */</span><br>    <span class="hljs-keyword">for</span> country := <span class="hljs-keyword">range</span> countryCapitalMap &#123;<br>        fmt.Println(country, <span class="hljs-string">&quot;首都是&quot;</span>, countryCapitalMap [country])<br>    &#125;<br><br>    <span class="hljs-comment">/*查看元素在集合中是否存在 */</span><br>    capital, ok := countryCapitalMap [ <span class="hljs-string">&quot;American&quot;</span> ] <span class="hljs-comment">/*如果确定是真实的,则存在,否则不存在 */</span><br>    <span class="hljs-comment">/*fmt.Println(capital) */</span><br>    <span class="hljs-comment">/*fmt.Println(ok) */</span><br>    <span class="hljs-keyword">if</span> (ok) &#123;<br>        fmt.Println(<span class="hljs-string">&quot;American 的首都是&quot;</span>, capital)<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        fmt.Println(<span class="hljs-string">&quot;American 的首都不存在&quot;</span>)<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>以上实例运行结果为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">France 首都是 巴黎<br>Italy 首都是 罗马<br>Japan 首都是 东京<br>India  首都是 新德里<br>American 的首都不存在<br></code></pre></td></tr></table></figure>

<h2 id="delete-函数"><a href="#delete-函数" class="headerlink" title="delete() 函数"></a>delete() 函数</h2><p>delete() 函数用于删除集合的元素, 参数为 map 和其对应的 key。实例如下：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>        <span class="hljs-comment">/* 创建map */</span><br>        countryCapitalMap := <span class="hljs-keyword">map</span>[<span class="hljs-type">string</span>]<span class="hljs-type">string</span>&#123;<span class="hljs-string">&quot;France&quot;</span>: <span class="hljs-string">&quot;Paris&quot;</span>, <span class="hljs-string">&quot;Italy&quot;</span>: <span class="hljs-string">&quot;Rome&quot;</span>, <span class="hljs-string">&quot;Japan&quot;</span>: <span class="hljs-string">&quot;Tokyo&quot;</span>, <span class="hljs-string">&quot;India&quot;</span>: <span class="hljs-string">&quot;New delhi&quot;</span>&#125;<br><br>        fmt.Println(<span class="hljs-string">&quot;原始地图&quot;</span>)<br><br>        <span class="hljs-comment">/* 打印地图 */</span><br>        <span class="hljs-keyword">for</span> country := <span class="hljs-keyword">range</span> countryCapitalMap &#123;<br>                fmt.Println(country, <span class="hljs-string">&quot;首都是&quot;</span>, countryCapitalMap [ country ])<br>        &#125;<br><br>        <span class="hljs-comment">/*删除元素*/</span> <span class="hljs-built_in">delete</span>(countryCapitalMap, <span class="hljs-string">&quot;France&quot;</span>)<br>        fmt.Println(<span class="hljs-string">&quot;法国条目被删除&quot;</span>)<br><br>        fmt.Println(<span class="hljs-string">&quot;删除元素后地图&quot;</span>)<br><br>        <span class="hljs-comment">/*打印地图*/</span><br>        <span class="hljs-keyword">for</span> country := <span class="hljs-keyword">range</span> countryCapitalMap &#123;<br>                fmt.Println(country, <span class="hljs-string">&quot;首都是&quot;</span>, countryCapitalMap [ country ])<br>        &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>以上实例运行结果为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">原始地图<br>India 首都是 New delhi<br>France 首都是 Paris<br>Italy 首都是 Rome<br>Japan 首都是 Tokyo<br>法国条目被删除<br>删除元素后地图<br>Italy 首都是 Rome<br>Japan 首都是 Tokyo<br>India 首都是 New delhi<br></code></pre></td></tr></table></figure>





<h1 id="0x11-Go-语言递归函数"><a href="#0x11-Go-语言递归函数" class="headerlink" title="0x11 Go 语言递归函数"></a>0x11 Go 语言递归函数</h1><p>递归，就是在运行的过程中调用自己。</p>
<p>语法格式如下：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">recursion</span><span class="hljs-params">()</span></span> &#123;<br>   recursion() <span class="hljs-comment">/* 函数调用自身 */</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>   recursion()<br>&#125;<br></code></pre></td></tr></table></figure>

<p>Go 语言支持递归。但我们在使用递归时，开发者需要设置退出条件，否则递归将陷入无限循环中。</p>
<p>递归函数对于解决数学上的问题是非常有用的，就像计算阶乘，生成斐波那契数列等。</p>
<hr>
<h2 id="阶乘"><a href="#阶乘" class="headerlink" title="阶乘"></a>阶乘</h2><p>以下实例通过 Go 语言的递归函数实例阶乘：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">Factorial</span><span class="hljs-params">(n <span class="hljs-type">uint64</span>)</span></span>(result <span class="hljs-type">uint64</span>) &#123;<br>    <span class="hljs-keyword">if</span> (n &gt; <span class="hljs-number">0</span>) &#123;<br>        result = n * Factorial(n<span class="hljs-number">-1</span>)<br>        <span class="hljs-keyword">return</span> result<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">1</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;  <br>    <span class="hljs-keyword">var</span> i <span class="hljs-type">int</span> = <span class="hljs-number">15</span><br>    fmt.Printf(<span class="hljs-string">&quot;%d 的阶乘是 %d\n&quot;</span>, i, Factorial(<span class="hljs-type">uint64</span>(i)))<br>&#125;<br></code></pre></td></tr></table></figure>

<p>以上实例执行输出结果为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">15 的阶乘是 1307674368000<br></code></pre></td></tr></table></figure>

<hr>
<h2 id="斐波那契数列"><a href="#斐波那契数列" class="headerlink" title="斐波那契数列"></a>斐波那契数列</h2><p>以下实例通过 Go 语言的递归函数实现斐波那契数列：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">fibonacci</span><span class="hljs-params">(n <span class="hljs-type">int</span>)</span></span> <span class="hljs-type">int</span> &#123;<br>  <span class="hljs-keyword">if</span> n &lt; <span class="hljs-number">2</span> &#123;<br>   <span class="hljs-keyword">return</span> n<br>  &#125;<br>  <span class="hljs-keyword">return</span> fibonacci(n<span class="hljs-number">-2</span>) + fibonacci(n<span class="hljs-number">-1</span>)<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>    <span class="hljs-keyword">var</span> i <span class="hljs-type">int</span><br>    <span class="hljs-keyword">for</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++ &#123;<br>       fmt.Printf(<span class="hljs-string">&quot;%d\t&quot;</span>, fibonacci(i))<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>以上实例执行输出结果为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">0    1    1    2    3    5    8    13    21    34<br></code></pre></td></tr></table></figure>





<h1 id="0x12-Go-语言类型转换"><a href="#0x12-Go-语言类型转换" class="headerlink" title="0x12 Go 语言类型转换"></a>0x12 Go 语言类型转换</h1><p>类型转换用于将一种数据类型的变量转换为另外一种类型的变量。Go 语言类型转换基本格式如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">type_name(expression)<br></code></pre></td></tr></table></figure>

<p>type_name 为类型，expression 为表达式。</p>
<h3 id="实例-5"><a href="#实例-5" class="headerlink" title="实例"></a>实例</h3><p>以下实例中将整型转化为浮点型，并计算结果，将结果赋值给浮点型变量：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>   <span class="hljs-keyword">var</span> sum <span class="hljs-type">int</span> = <span class="hljs-number">17</span><br>   <span class="hljs-keyword">var</span> count <span class="hljs-type">int</span> = <span class="hljs-number">5</span><br>   <span class="hljs-keyword">var</span> mean <span class="hljs-type">float32</span><br>   <br>   mean = <span class="hljs-type">float32</span>(sum)/<span class="hljs-type">float32</span>(count)<br>   fmt.Printf(<span class="hljs-string">&quot;mean 的值为: %f\n&quot;</span>,mean)<br>&#125;<br></code></pre></td></tr></table></figure>

<p>以上实例执行输出结果为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">mean 的值为: 3.400000<br></code></pre></td></tr></table></figure>





<h1 id="0x13-Go-语言接口"><a href="#0x13-Go-语言接口" class="headerlink" title="0x13 Go 语言接口"></a>0x13 Go 语言接口</h1><p>Go 语言提供了另外一种数据类型即接口，它把所有的具有共性的方法定义在一起，任何其他类型只要实现了这些方法就是实现了这个接口。</p>
<p>实例1</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-comment">/* 定义接口 */</span><br><span class="hljs-keyword">type</span> interface_name <span class="hljs-keyword">interface</span> &#123;<br>   method_name1 [return_type]<br>   method_name2 [return_type]<br>   method_name3 [return_type]<br>   ...<br>   method_namen [return_type]<br>&#125;<br><br><span class="hljs-comment">/* 定义结构体 */</span><br><span class="hljs-keyword">type</span> struct_name <span class="hljs-keyword">struct</span> &#123;<br>   <span class="hljs-comment">/* variables */</span><br>&#125;<br><br><span class="hljs-comment">/* 实现接口方法 */</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(struct_name_variable struct_name)</span></span> method_name1() [return_type] &#123;<br>   <span class="hljs-comment">/* 方法实现 */</span><br>&#125;<br>...<br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(struct_name_variable struct_name)</span></span> method_namen() [return_type] &#123;<br>   <span class="hljs-comment">/* 方法实现*/</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p>实例2</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> (<br>    <span class="hljs-string">&quot;fmt&quot;</span><br>)<br><br><span class="hljs-keyword">type</span> Phone <span class="hljs-keyword">interface</span> &#123;<br>    call()<br>&#125;<br><br><span class="hljs-keyword">type</span> NokiaPhone <span class="hljs-keyword">struct</span> &#123;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(nokiaPhone NokiaPhone)</span></span> call() &#123;<br>    fmt.Println(<span class="hljs-string">&quot;I am Nokia, I can call you!&quot;</span>)<br>&#125;<br><br><span class="hljs-keyword">type</span> IPhone <span class="hljs-keyword">struct</span> &#123;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(iPhone IPhone)</span></span> call() &#123;<br>    fmt.Println(<span class="hljs-string">&quot;I am iPhone, I can call you!&quot;</span>)<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>    <span class="hljs-keyword">var</span> phone Phone<br><br>    phone = <span class="hljs-built_in">new</span>(NokiaPhone)<br>    phone.call()<br><br>    phone = <span class="hljs-built_in">new</span>(IPhone)<br>    phone.call()<br><br>&#125;<br></code></pre></td></tr></table></figure>

<p>在上面的例子中，我们定义了一个接口Phone，接口里面有一个方法call()。然后我们在main函数里面定义了一个Phone类型变量，并分别为之赋值为NokiaPhone和IPhone。然后调用call()方法，输出结果如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">I am Nokia, I can call you!<br>I am iPhone, I can call you!<br></code></pre></td></tr></table></figure>



<h1 id="0x14-Go-错误处理"><a href="#0x14-Go-错误处理" class="headerlink" title="0x14 Go 错误处理"></a>0x14 Go 错误处理</h1><p>Go 语言通过内置的错误接口提供了非常简单的错误处理机制。</p>
<p>error类型是一个接口类型，这是它的定义：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">type error interface &#123;<br>    Error() string<br>&#125;<br></code></pre></td></tr></table></figure>

<p>我们可以在编码中通过实现 error 接口类型来生成错误信息。</p>
<p>函数通常在最后的返回值中返回错误信息。使用errors.New 可返回一个错误信息：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">func Sqrt(f float64) (float64, error) &#123;<br>    if f &lt; 0 &#123;<br>        return 0, errors.New(&quot;math: square root of negative number&quot;)<br>    &#125;<br>    // 实现<br>&#125;<br></code></pre></td></tr></table></figure>

<p>在下面的例子中，我们在调用Sqrt的时候传递的一个负数，然后就得到了non-nil的error对象，将此对象与nil比较，结果为true，所以fmt.Println(fmt包在处理error时会调用Error方法)被调用，以输出错误，请看下面调用的示例代码：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">result, err:= Sqrt(-1)<br><br>if err != nil &#123;<br>   fmt.Println(err)<br>&#125;<br></code></pre></td></tr></table></figure>

<p>实例</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> (<br>    <span class="hljs-string">&quot;fmt&quot;</span><br>)<br><br><span class="hljs-comment">// 定义一个 DivideError 结构</span><br><span class="hljs-keyword">type</span> DivideError <span class="hljs-keyword">struct</span> &#123;<br>    dividee <span class="hljs-type">int</span><br>    divider <span class="hljs-type">int</span><br>&#125;<br><br><span class="hljs-comment">// 实现 `error` 接口</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(de *DivideError)</span></span> Error() <span class="hljs-type">string</span> &#123;<br>    strFormat := <span class="hljs-string">`</span><br><span class="hljs-string">    Cannot proceed, the divider is zero.</span><br><span class="hljs-string">    dividee: %d</span><br><span class="hljs-string">    divider: 0</span><br><span class="hljs-string">`</span><br>    <span class="hljs-keyword">return</span> fmt.Sprintf(strFormat, de.dividee)<br>&#125;<br><br><span class="hljs-comment">// 定义 `int` 类型除法运算的函数</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">Divide</span><span class="hljs-params">(varDividee <span class="hljs-type">int</span>, varDivider <span class="hljs-type">int</span>)</span></span> (result <span class="hljs-type">int</span>, errorMsg <span class="hljs-type">string</span>) &#123;<br>    <span class="hljs-keyword">if</span> varDivider == <span class="hljs-number">0</span> &#123;<br>            dData := DivideError&#123;<br>                    dividee: varDividee,<br>                    divider: varDivider,<br>            &#125;<br>            errorMsg = dData.Error()<br>            <span class="hljs-keyword">return</span><br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-keyword">return</span> varDividee / varDivider, <span class="hljs-string">&quot;&quot;</span><br>    &#125;<br><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br><br>    <span class="hljs-comment">// 正常情况</span><br>    <span class="hljs-keyword">if</span> result, errorMsg := Divide(<span class="hljs-number">100</span>, <span class="hljs-number">10</span>); errorMsg == <span class="hljs-string">&quot;&quot;</span> &#123;<br>            fmt.Println(<span class="hljs-string">&quot;100/10 = &quot;</span>, result)<br>    &#125;<br>    <span class="hljs-comment">// 当除数为零的时候会返回错误信息</span><br>    <span class="hljs-keyword">if</span> _, errorMsg := Divide(<span class="hljs-number">100</span>, <span class="hljs-number">0</span>); errorMsg != <span class="hljs-string">&quot;&quot;</span> &#123;<br>            fmt.Println(<span class="hljs-string">&quot;errorMsg is: &quot;</span>, errorMsg)<br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure>

<p>执行以上程序，输出结果为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">100/10 =  10<br>errorMsg is:  <br>    Cannot proceed, the divider is zero.<br>    dividee: 100<br>    divider: 0<br></code></pre></td></tr></table></figure>





<h1 id="Go-并发"><a href="#Go-并发" class="headerlink" title="Go 并发"></a>Go 并发</h1><p>Go 语言支持并发，我们只需要通过 go 关键字来开启 goroutine 即可。</p>
<p>goroutine 是轻量级线程，goroutine 的调度是由 Golang 运行时进行管理的。</p>
<p>goroutine 语法格式：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">go 函数名( 参数列表 )<br></code></pre></td></tr></table></figure>

<p>例如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">go f(x, y, z)<br></code></pre></td></tr></table></figure>

<p>开启一个新的 goroutine:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">f(x, y, z)<br></code></pre></td></tr></table></figure>

<p>Go 允许使用 go 语句开启一个新的运行期线程， 即 goroutine，以一个不同的、新创建的 goroutine 来执行一个函数。 同一个程序中的所有 goroutine 共享同一个地址空间。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> (<br>        <span class="hljs-string">&quot;fmt&quot;</span><br>        <span class="hljs-string">&quot;time&quot;</span><br>)<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">say</span><span class="hljs-params">(s <span class="hljs-type">string</span>)</span></span> &#123;<br>        <span class="hljs-keyword">for</span> i := <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++ &#123;<br>                time.Sleep(<span class="hljs-number">100</span> * time.Millisecond)<br>                fmt.Println(s)<br>        &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>        <span class="hljs-keyword">go</span> say(<span class="hljs-string">&quot;world&quot;</span>)<br>        say(<span class="hljs-string">&quot;hello&quot;</span>)<br>&#125;<br></code></pre></td></tr></table></figure>

<p>执行以上代码，你会看到输出的 hello 和 world 是没有固定先后顺序。因为它们是两个 goroutine 在执行：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">world<br>hello<br>hello<br>world<br>world<br>hello<br>hello<br>world<br>world<br>hello<br></code></pre></td></tr></table></figure>

<h2 id="通道（channel）"><a href="#通道（channel）" class="headerlink" title="通道（channel）"></a>通道（channel）</h2><p>通道（channel）是用来传递数据的一个数据结构。</p>
<p>通道可用于两个 goroutine 之间通过传递一个指定类型的值来同步运行和通讯。操作符 <code>&lt;-</code> 用于指定通道的方向，发送或接收。如果未指定方向，则为双向通道。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">ch &lt;- v    // 把 v 发送到通道 ch<br>v := &lt;-ch  // 从 ch 接收数据<br>           // 并把值赋给 v<br></code></pre></td></tr></table></figure>

<p>声明一个通道很简单，我们使用chan关键字即可，通道在使用前必须先创建：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">ch := make(chan int)<br></code></pre></td></tr></table></figure>

<p><strong>注意</strong>：默认情况下，通道是不带缓冲区的。发送端发送数据，同时必须有接收端相应的接收数据。</p>
<p>以下实例通过两个 goroutine 来计算数字之和，在 goroutine 完成计算后，它会计算两个结果的和：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">sum</span><span class="hljs-params">(s []<span class="hljs-type">int</span>, c <span class="hljs-keyword">chan</span> <span class="hljs-type">int</span>)</span></span> &#123;<br>        sum := <span class="hljs-number">0</span><br>        <span class="hljs-keyword">for</span> _, v := <span class="hljs-keyword">range</span> s &#123;<br>                sum += v<br>        &#125;<br>        c &lt;- sum <span class="hljs-comment">// 把 sum 发送到通道 c</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>        s := []<span class="hljs-type">int</span>&#123;<span class="hljs-number">7</span>, <span class="hljs-number">2</span>, <span class="hljs-number">8</span>, <span class="hljs-number">-9</span>, <span class="hljs-number">4</span>, <span class="hljs-number">0</span>&#125;<br><br>        c := <span class="hljs-built_in">make</span>(<span class="hljs-keyword">chan</span> <span class="hljs-type">int</span>)<br>        <span class="hljs-keyword">go</span> sum(s[:<span class="hljs-built_in">len</span>(s)/<span class="hljs-number">2</span>], c)<br>        <span class="hljs-keyword">go</span> sum(s[<span class="hljs-built_in">len</span>(s)/<span class="hljs-number">2</span>:], c)<br>        x, y := &lt;-c, &lt;-c <span class="hljs-comment">// 从通道 c 中接收</span><br><br>        fmt.Println(x, y, x+y)<br>&#125;<br></code></pre></td></tr></table></figure>

<p>输出结果为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">-5 17 12<br></code></pre></td></tr></table></figure>

<h3 id="通道缓冲区"><a href="#通道缓冲区" class="headerlink" title="通道缓冲区"></a>通道缓冲区</h3><p>通道可以设置缓冲区，通过 make 的第二个参数指定缓冲区大小：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">ch := make(chan int, 100)<br></code></pre></td></tr></table></figure>

<p>带缓冲区的通道允许发送端的数据发送和接收端的数据获取处于异步状态，就是说发送端发送的数据可以放在缓冲区里面，可以等待接收端去获取数据，而不是立刻需要接收端去获取数据。</p>
<p>不过由于缓冲区的大小是有限的，所以还是必须有接收端来接收数据的，否则缓冲区一满，数据发送端就无法再发送数据了。</p>
<p><strong>注意</strong>：如果通道不带缓冲，发送方会阻塞直到接收方从通道中接收了值。如果通道带缓冲，发送方则会阻塞直到发送的值被拷贝到缓冲区内；如果缓冲区已满，则意味着需要等待直到某个接收方获取到一个值。接收方在有值可以接收之前会一直阻塞。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>    <span class="hljs-comment">// 这里我们定义了一个可以存储整数类型的带缓冲通道</span><br>        <span class="hljs-comment">// 缓冲区大小为2</span><br>        ch := <span class="hljs-built_in">make</span>(<span class="hljs-keyword">chan</span> <span class="hljs-type">int</span>, <span class="hljs-number">2</span>)<br><br>        <span class="hljs-comment">// 因为 ch 是带缓冲的通道，我们可以同时发送两个数据</span><br>        <span class="hljs-comment">// 而不用立刻需要去同步读取数据</span><br>        ch &lt;- <span class="hljs-number">1</span><br>        ch &lt;- <span class="hljs-number">2</span><br><br>        <span class="hljs-comment">// 获取这两个数据</span><br>        fmt.Println(&lt;-ch)<br>        fmt.Println(&lt;-ch)<br>&#125;<br></code></pre></td></tr></table></figure>

<p>执行输出结果为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">1<br>2<br></code></pre></td></tr></table></figure>

<h3 id="Go-遍历通道与关闭通道"><a href="#Go-遍历通道与关闭通道" class="headerlink" title="Go 遍历通道与关闭通道"></a>Go 遍历通道与关闭通道</h3><p>Go 通过 range 关键字来实现遍历读取到的数据，类似于与数组或切片。格式如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">v, ok := &lt;-ch<br></code></pre></td></tr></table></figure>

<p>如果通道接收不到数据后 ok 就为 false，这时通道就可以使用 <strong>close()</strong> 函数来关闭。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> (<br>        <span class="hljs-string">&quot;fmt&quot;</span><br>)<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">fibonacci</span><span class="hljs-params">(n <span class="hljs-type">int</span>, c <span class="hljs-keyword">chan</span> <span class="hljs-type">int</span>)</span></span> &#123;<br>        x, y := <span class="hljs-number">0</span>, <span class="hljs-number">1</span><br>        <span class="hljs-keyword">for</span> i := <span class="hljs-number">0</span>; i &lt; n; i++ &#123;<br>                c &lt;- x<br>                x, y = y, x+y<br>        &#125;<br>        <span class="hljs-built_in">close</span>(c)<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>        c := <span class="hljs-built_in">make</span>(<span class="hljs-keyword">chan</span> <span class="hljs-type">int</span>, <span class="hljs-number">10</span>)<br>        <span class="hljs-keyword">go</span> fibonacci(<span class="hljs-built_in">cap</span>(c), c)<br>        <span class="hljs-comment">// range 函数遍历每个从通道接收到的数据，因为 c 在发送完 10 个</span><br>        <span class="hljs-comment">// 数据之后就关闭了通道，所以这里我们 range 函数在接收到 10 个数据</span><br>        <span class="hljs-comment">// 之后就结束了。如果上面的 c 通道不关闭，那么 range 函数就不</span><br>        <span class="hljs-comment">// 会结束，从而在接收第 11 个数据的时候就阻塞了。</span><br>        <span class="hljs-keyword">for</span> i := <span class="hljs-keyword">range</span> c &#123;<br>                fmt.Println(i)<br>        &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>执行输出结果为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">0<br>1<br>1<br>2<br>3<br>5<br>8<br>13<br>21<br>34<br></code></pre></td></tr></table></figure><div id="paginator"></div></div><div id="post-footer"><div id="pages"><div id="footer-link" style="right: calc(50% - 1px);order: 1;border-right: 1px solid #fe2;padding-left: unset;max-width: calc(50% - 4px);"><a href="/2021/03/30/security/v8-01/">← Next V8 EXPLOIT ONE</a></div><div id="footer-link" style="left: 50%;order: 0;border-left: 1px solid #fe2;padding-right: unset;max-width: calc(50% - 5px);"><a href="/2021/03/30/dev/language/go/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/">go语言面向对象 Prev →</a></div></div></div><details id="reward"><summary>打赏点小钱</summary><div id="alipay"><span>支付宝 | Alipay</span><br><img src="/img/Alipay.png"></div><div id="wechat"><span>微信 | WeChat</span><br><img src="/img/WeChat.png"></div></details><div id="Valine"></div></div><div id="bottom-btn"><a id="to-index" href="#toc-div" title="index">≡</a><a id="to-top" onClick="scrolls.scrolltop();" title="to top" style="opacity: 0; display: none;">∧</a></div></article><aside><div id="aside-top"><div id="about"><a href="/" id="logo"><img src="/images/header.jpg" alt="Logo"></a><h1 id="Dr"><a target="_blank" rel="noopener" href="https://github.com/i0gan">I0gan</a></h1><div id="description"></div></div><div id="aside-block"><div id="toc-div"><h1>INDEX</h1><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#0x00-Golang%E5%AE%89%E8%A3%85"><span class="toc-text">0x00 Golang安装</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0x01-Hello-World"><span class="toc-text">0x01 Hello World</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Go-%E8%AF%AD%E8%A8%80%E7%89%B9%E8%89%B2"><span class="toc-text">Go 语言特色</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Go-%E8%AF%AD%E8%A8%80%E7%94%A8%E9%80%94"><span class="toc-text">Go 语言用途</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E4%B8%AA-Go-%E7%A8%8B%E5%BA%8F"><span class="toc-text">第一个 Go 程序</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#hello-go-%E6%96%87%E4%BB%B6"><span class="toc-text">hello.go 文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F"><span class="toc-text">注意</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%89%B9%E6%80%A7"><span class="toc-text">特性</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0x02-%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80"><span class="toc-text">0x02 语法基础</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Go-%E6%A0%87%E8%AE%B0"><span class="toc-text">Go 标记</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A1%8C%E5%88%86%E9%9A%94%E7%AC%A6"><span class="toc-text">行分隔符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%A8%E9%87%8A"><span class="toc-text">注释</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%87%E8%AF%86%E7%AC%A6"><span class="toc-text">标识符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BF%9E%E6%8E%A5"><span class="toc-text">字符串连接</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-text">关键字</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Go-%E8%AF%AD%E8%A8%80%E7%9A%84%E7%A9%BA%E6%A0%BC"><span class="toc-text">Go 语言的空格</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%BC%E5%BC%8F%E5%8C%96%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-text">格式化字符串</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0x03-Go-%E8%AF%AD%E8%A8%80%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-text">0x03 Go 语言数据类型</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E5%AD%97%E7%B1%BB%E5%9E%8B"><span class="toc-text">数字类型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%AE%E7%82%B9%E5%9E%8B"><span class="toc-text">浮点型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E6%95%B0%E5%AD%97%E7%B1%BB%E5%9E%8B"><span class="toc-text">其他数字类型</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0x04-Go-%E8%AF%AD%E8%A8%80%E5%8F%98%E9%87%8F"><span class="toc-text">0x04 Go 语言变量</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E5%A3%B0%E6%98%8E"><span class="toc-text">变量声明</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E5%8F%98%E9%87%8F%E5%A3%B0%E6%98%8E"><span class="toc-text">多变量声明</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%80%BC%E7%B1%BB%E5%9E%8B%E5%92%8C%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B"><span class="toc-text">值类型和引用类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%80%E7%9F%AD%E5%BD%A2%E5%BC%8F%EF%BC%8C%E4%BD%BF%E7%94%A8-x3D-%E8%B5%8B%E5%80%BC%E6%93%8D%E4%BD%9C%E7%AC%A6"><span class="toc-text">简短形式，使用 :&#x3D; 赋值操作符</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-text">注意事项</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0x05-Go-%E8%AF%AD%E8%A8%80%E5%B8%B8%E9%87%8F"><span class="toc-text">0x05 Go 语言常量</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#iota"><span class="toc-text">iota</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#iota-%E7%94%A8%E6%B3%95"><span class="toc-text">iota 用法</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0x06-Go-%E8%AF%AD%E8%A8%80%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text">0x06 Go 语言运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%97%E6%9C%AF%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text">算术运算符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text">关系运算符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text">逻辑运算符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%8D%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text">位运算符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B5%8B%E5%80%BC%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text">赋值运算符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text">其他运算符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6%E4%BC%98%E5%85%88%E7%BA%A7"><span class="toc-text">运算符优先级</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0x07-Go-%E8%AF%AD%E8%A8%80%E6%9D%A1%E4%BB%B6%E8%AF%AD%E5%8F%A5"><span class="toc-text">0x07 Go 语言条件语句</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Go-%E8%AF%AD%E8%A8%80-if-%E8%AF%AD%E5%8F%A5"><span class="toc-text">Go 语言 if 语句</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95"><span class="toc-text">语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B"><span class="toc-text">实例</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Go-%E8%AF%AD%E8%A8%80-if%E2%80%A6else-%E8%AF%AD%E5%8F%A5"><span class="toc-text">Go 语言 if…else 语句</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95-1"><span class="toc-text">语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B-1"><span class="toc-text">实例</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Go-%E8%AF%AD%E8%A8%80-if-%E8%AF%AD%E5%8F%A5%E5%B5%8C%E5%A5%97"><span class="toc-text">Go 语言 if 语句嵌套</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95-2"><span class="toc-text">语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B-2"><span class="toc-text">实例</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Go-%E8%AF%AD%E8%A8%80-switch-%E8%AF%AD%E5%8F%A5"><span class="toc-text">Go 语言 switch 语句</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95-3"><span class="toc-text">语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Type-Switch"><span class="toc-text">Type Switch</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#fallthrough"><span class="toc-text">fallthrough</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Go-%E8%AF%AD%E8%A8%80-select-%E8%AF%AD%E5%8F%A5"><span class="toc-text">Go 语言 select 语句</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95-4"><span class="toc-text">语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B-3"><span class="toc-text">实例</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0x08-Go-%E8%AF%AD%E8%A8%80%E5%BE%AA%E7%8E%AF%E8%AF%AD%E5%8F%A5"><span class="toc-text">0x08 Go 语言循环语句</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5"><span class="toc-text">循环控制语句</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%97%A0%E9%99%90%E5%BE%AA%E7%8E%AF"><span class="toc-text">无限循环</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Go-%E8%AF%AD%E8%A8%80-for-%E5%BE%AA%E7%8E%AF"><span class="toc-text">Go 语言 for 循环</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95-5"><span class="toc-text">语法</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0x09-Go-%E8%AF%AD%E8%A8%80%E5%87%BD%E6%95%B0"><span class="toc-text">0x09 Go 语言函数</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%AE%9A%E4%B9%89"><span class="toc-text">函数定义</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E8%B0%83%E7%94%A8"><span class="toc-text">函数调用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E8%BF%94%E5%9B%9E%E5%A4%9A%E4%B8%AA%E5%80%BC"><span class="toc-text">函数返回多个值</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0"><span class="toc-text">函数参数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E7%94%A8%E6%B3%95"><span class="toc-text">函数用法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Go-%E8%AF%AD%E8%A8%80%E5%87%BD%E6%95%B0%E5%80%BC%E4%BC%A0%E9%80%92%E5%80%BC"><span class="toc-text">Go 语言函数值传递值</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Go-%E8%AF%AD%E8%A8%80%E5%87%BD%E6%95%B0%E5%BC%95%E7%94%A8%E4%BC%A0%E9%80%92%E5%80%BC"><span class="toc-text">Go 语言函数引用传递值</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Go-%E8%AF%AD%E8%A8%80%E5%87%BD%E6%95%B0%E4%BD%9C%E4%B8%BA%E5%AE%9E%E5%8F%82"><span class="toc-text">Go 语言函数作为实参</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Go-%E8%AF%AD%E8%A8%80%E5%87%BD%E6%95%B0%E9%97%AD%E5%8C%85"><span class="toc-text">Go 语言函数闭包</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Go-%E8%AF%AD%E8%A8%80%E5%87%BD%E6%95%B0%E6%96%B9%E6%B3%95"><span class="toc-text">Go 语言函数方法</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0x0A-Go-%E8%AF%AD%E8%A8%80%E5%8F%98%E9%87%8F%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-text">0x0A Go 语言变量作用域</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F"><span class="toc-text">局部变量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F"><span class="toc-text">全局变量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BD%A2%E5%BC%8F%E5%8F%82%E6%95%B0"><span class="toc-text">形式参数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9D%E5%A7%8B%E5%8C%96%E5%B1%80%E9%83%A8%E5%92%8C%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F"><span class="toc-text">初始化局部和全局变量</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0x0B-Go-%E8%AF%AD%E8%A8%80%E6%95%B0%E7%BB%84"><span class="toc-text">0x0B Go 语言数组</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A3%B0%E6%98%8E%E6%95%B0%E7%BB%84"><span class="toc-text">声明数组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9D%E5%A7%8B%E5%8C%96%E6%95%B0%E7%BB%84"><span class="toc-text">初始化数组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%BF%E9%97%AE%E6%95%B0%E7%BB%84%E5%85%83%E7%B4%A0"><span class="toc-text">访问数组元素</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9B%B4%E5%A4%9A%E5%86%85%E5%AE%B9"><span class="toc-text">更多内容</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Go-%E8%AF%AD%E8%A8%80%E5%A4%9A%E7%BB%B4%E6%95%B0%E7%BB%84"><span class="toc-text">Go 语言多维数组</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E7%BB%B4%E6%95%B0%E7%BB%84"><span class="toc-text">二维数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9D%E5%A7%8B%E5%8C%96%E4%BA%8C%E7%BB%B4%E6%95%B0%E7%BB%84"><span class="toc-text">初始化二维数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BF%E9%97%AE%E4%BA%8C%E7%BB%B4%E6%95%B0%E7%BB%84"><span class="toc-text">访问二维数组</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Go-%E8%AF%AD%E8%A8%80%E5%90%91%E5%87%BD%E6%95%B0%E4%BC%A0%E9%80%92%E6%95%B0%E7%BB%84"><span class="toc-text">Go 语言向函数传递数组</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E5%BC%8F%E4%B8%80"><span class="toc-text">方式一</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E5%BC%8F%E4%BA%8C"><span class="toc-text">方式二</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B-4"><span class="toc-text">实例</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0x0C-Go-%E8%AF%AD%E8%A8%80%E6%8C%87%E9%92%88"><span class="toc-text">0x0C Go 语言指针</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E6%8C%87%E9%92%88"><span class="toc-text">什么是指针</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8%E6%8C%87%E9%92%88"><span class="toc-text">如何使用指针</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Go-%E7%A9%BA%E6%8C%87%E9%92%88"><span class="toc-text">Go 空指针</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Go%E6%8C%87%E9%92%88%E6%9B%B4%E5%A4%9A%E5%86%85%E5%AE%B9"><span class="toc-text">Go指针更多内容</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Go-%E8%AF%AD%E8%A8%80%E6%8C%87%E9%92%88%E6%95%B0%E7%BB%84"><span class="toc-text">Go 语言指针数组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Go-%E8%AF%AD%E8%A8%80%E6%8C%87%E5%90%91%E6%8C%87%E9%92%88%E7%9A%84%E6%8C%87%E9%92%88"><span class="toc-text">Go 语言指向指针的指针</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Go-%E8%AF%AD%E8%A8%80%E6%8C%87%E9%92%88%E4%BD%9C%E4%B8%BA%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0"><span class="toc-text">Go 语言指针作为函数参数</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0x0D-Go-%E8%AF%AD%E8%A8%80%E7%BB%93%E6%9E%84%E4%BD%93"><span class="toc-text">0x0D Go 语言结构体</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89%E7%BB%93%E6%9E%84%E4%BD%93"><span class="toc-text">定义结构体</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%BF%E9%97%AE%E7%BB%93%E6%9E%84%E4%BD%93%E6%88%90%E5%91%98"><span class="toc-text">访问结构体成员</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93%E4%BD%9C%E4%B8%BA%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0"><span class="toc-text">结构体作为函数参数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93%E6%8C%87%E9%92%88"><span class="toc-text">结构体指针</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0x0E-Go-%E8%AF%AD%E8%A8%80%E5%88%87%E7%89%87-Slice"><span class="toc-text">0x0E Go 语言切片(Slice)</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89%E5%88%87%E7%89%87"><span class="toc-text">定义切片</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%87%E7%89%87%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="toc-text">切片初始化</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#len-%E5%92%8C-cap-%E5%87%BD%E6%95%B0"><span class="toc-text">len() 和 cap() 函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A9%BA-nil-%E5%88%87%E7%89%87"><span class="toc-text">空(nil)切片</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%87%E7%89%87%E6%88%AA%E5%8F%96"><span class="toc-text">切片截取</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#append-%E5%92%8C-copy-%E5%87%BD%E6%95%B0"><span class="toc-text">append() 和 copy() 函数</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0x0F-Go-%E8%AF%AD%E8%A8%80%E8%8C%83%E5%9B%B4-Range"><span class="toc-text">0x0F Go 语言范围(Range)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0x10-Go-%E8%AF%AD%E8%A8%80Map-%E9%9B%86%E5%90%88"><span class="toc-text">0x10 Go 语言Map(集合)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89-Map"><span class="toc-text">定义 Map</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#delete-%E5%87%BD%E6%95%B0"><span class="toc-text">delete() 函数</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0x11-Go-%E8%AF%AD%E8%A8%80%E9%80%92%E5%BD%92%E5%87%BD%E6%95%B0"><span class="toc-text">0x11 Go 语言递归函数</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%98%B6%E4%B9%98"><span class="toc-text">阶乘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%90%E6%B3%A2%E9%82%A3%E5%A5%91%E6%95%B0%E5%88%97"><span class="toc-text">斐波那契数列</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0x12-Go-%E8%AF%AD%E8%A8%80%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="toc-text">0x12 Go 语言类型转换</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B-5"><span class="toc-text">实例</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0x13-Go-%E8%AF%AD%E8%A8%80%E6%8E%A5%E5%8F%A3"><span class="toc-text">0x13 Go 语言接口</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0x14-Go-%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86"><span class="toc-text">0x14 Go 错误处理</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Go-%E5%B9%B6%E5%8F%91"><span class="toc-text">Go 并发</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%9A%E9%81%93%EF%BC%88channel%EF%BC%89"><span class="toc-text">通道（channel）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%9A%E9%81%93%E7%BC%93%E5%86%B2%E5%8C%BA"><span class="toc-text">通道缓冲区</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Go-%E9%81%8D%E5%8E%86%E9%80%9A%E9%81%93%E4%B8%8E%E5%85%B3%E9%97%AD%E9%80%9A%E9%81%93"><span class="toc-text">Go 遍历通道与关闭通道</span></a></li></ol></li></ol></li></ol></div></div></div><footer><nobr><span class="text-title">ICP</span><a class="text-content" target="_blank" rel="noopener" href="https://beian.miit.gov.cn/">沪ICP备2021037250号-1  </a></nobr><nobr><span class="text-title">©</span><span class="text-content">2022 by i0gan</span></nobr><br></footer></aside></main><canvas id="canvas-dust"></canvas><div id="cursor-container"><div id="cursor-outer"></div><div id="cursor-effect"></div></div><script src="/js/search.js"></script><script class="pjax-js">reset=_=>{new Valine({
 el: '#Valine'
 , appId: 'TzNey4n3v0Sx6vdBbytYLoH9-gzGzoHsz'
 , appKey: 'GIXXrK9zLxt0bZLww1hte0Oq' , placeholder: '此条评论委托企鹅物流发送'
});code.findCode();mermaid.init(undefined, ('.mermaid'));}</script><script src="//unpkg.com/@highlightjs/cdn-assets@11.4.0/highlight.min.js"></script><script src="/js/arknights.js"></script><script>window.addEventListener("load",()=>{reset()})</script></body></html>